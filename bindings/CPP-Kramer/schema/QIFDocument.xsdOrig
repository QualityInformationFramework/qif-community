<?xml version="1.0" encoding="UTF-8"?>
<!-- This document is part of QIF 3.0, an open, industry-wide standard -->
<!-- established by the Dimensional Metrology Standards Consortium.    -->
<!-- This document shall not be used in any manner to claim any        -->
<!-- proprietary rights to such information, such as rights to a       -->
<!-- patent, trademark, or copyright.                                  -->

<xs:schema
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  xmlns="http://qifstandards.org/xsd/qif3"
  xmlns:t="http://qifstandards.org/xsd/qif3"
  xmlns:ds="http://www.w3.org/2000/09/xmldsig#"
  targetNamespace="http://qifstandards.org/xsd/qif3"
  elementFormDefault="qualified"
  attributeFormDefault="unqualified"
  version="3.0.0">
  <xs:import namespace="http://www.w3.org/2000/09/xmldsig#"
    schemaLocation="http://www.w3.org/TR/2002/REC-xmldsig-core-20020212/xmldsig-core-schema.xsd"/>

<!-- The following local reference to the digital signature schema from w3c
     can be used to replace the above remote reference. Such a replacement
     is necessary for example in some widely-used software because the
     real-time validation of the schema by the software makes keyboard
     response very slow and therefore editing difficult.

  <xs:import namespace="http://www.w3.org/2000/09/xmldsig#" 
             schemaLocation="../QIFLibrary/xmldsig-core-schema.xsd"/>
-->
  <xs:include schemaLocation="QIFPlan.xsd"/>
  <xs:include schemaLocation="QIFResults.xsd"/>
  <xs:include schemaLocation="QIFStatistics.xsd"/>
  <xs:include schemaLocation="QIFRules.xsd"/>
  <xs:include schemaLocation="QIFProduct.xsd"/>
  <xs:include schemaLocation="QIFMeasurementResources.xsd"/>

  <xs:annotation>
    <xs:documentation>
      The QIFDocument.xsd schema file defines types that describe a QIF
      document. In addition, many of the key/keyref constraints on QIF
      instance files are given in this schema file. This is the top level
      file of the QIF schema file hierarchy.
    </xs:documentation>
  </xs:annotation>

  <xs:element name="QIFDocument"
    type="QIFDocumentType">
    <xs:annotation>
      <xs:documentation>
        The global QIFDocument element is the root of a QIF document.
        Every QIF XML instance file will have QIFDocument as its root.
      </xs:documentation>
    </xs:annotation>

<!--

The CharacteristicItemIdKeyref and the MeasurementResourceIdKeyref should
be using .// since the ids they check may appear at arbitrarily deep levels
in a Plan (since Plan has a recursive structure). As
a result, ids that occur below the least nested locations they can occur
will not be checked. These keyrefs are not currently using .// because of
the interaction of .// in XMLSpy with Rules, which uses up all memory.
Altova has been notified of this problem in XMLSpy.

-->

    <xs:unique name="QIFIdUnique">
      <xs:annotation>
        <xs:documentation>
          The QIFIdUnique collects all QIF ids in an instance file.
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath=".//*"/>
      <xs:field xpath="@id"/>
    </xs:unique>

<!-- start key and one keyref for QIF ids of datum definitions -->

    <xs:key name="DatumDefinitionIdKey">
      <xs:annotation>
        <xs:documentation>
          The DatumDefinitionIdKey collects all QIF ids of DatumDefinitions
          in the DatumDefinitions and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:DatumDefinitions/t:DatumDefinition
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DatumDefinitionIdKeyref"
      refer="DatumDefinitionIdKey">
      <xs:annotation>
        <xs:documentation>
          The DatumDefinitionIdKeyref requires that a DatumDefinitionId
          located anywhere be the id of a DatumDefinition or the id of
          an external QIF document.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Plan/t:Measurands/t:EstablishDatumMeasurand
              /t:DatumDefinitionId
             | t:Characteristics/t:CharacteristicNominals/t:*
              /t:OriginReference/t:DatumDefinitionId
             | t:DatumReferenceFrames/t:DatumReferenceFrame/t:Datums
              /t:Datum/t:SimpleDatum/t:DatumDefinitionId
             | t:DatumReferenceFrames/t:DatumReferenceFrame/t:Datums
              /t:Datum/t:*/t:*/t:*/t:DatumDefinitionId
             | t:Product/t:PartSet/t:Part/t:DatumDefinitionIds/t:Id
             | t:Product/t:AssemblySet/t:Assembly/t:DatumDefinitionIds/t:Id
             | t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem/t:AlignmentOperations/t:*/t:*/t:*
              /t:DatumDefinitionId
             | t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem/t:AlignmentOperations/t:*/t:*
              /t:DatumDefinitionId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of datum reference frames -->

    <xs:key name="DatumReferenceFrameIdKey">
      <xs:annotation>
        <xs:documentation>
          The DatumReferenceFrameIdKey collects all QIF ids of
          DatumReferenceFrame in the DatumReferenceFrames and all ids of
          external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:DatumReferenceFrames/t:DatumReferenceFrame
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DatumReferenceFrameKeyref"
      refer="DatumReferenceFrameIdKey">
      <xs:annotation>
        <xs:documentation>
          The DatumReferenceFrameKeyref requires that a
          DatumReferenceFrameId located anywhere be the id of a
          DatumReferenceFrame.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem/t:AlignmentOperations/t:DatumPrecedence
              /t:DatumReferenceFrameId
             | t:Characteristics/t:CharacteristicDefinitions/t:*
              /t:DatumReferenceFrameId
             | t:Characteristics/t:CharacteristicDefinitions/t:*/t:*
              /t:DatumReferenceFrameId
             | t:Product/t:PartSet/t:Part/t:DatumReferenceFrameIds/t:Id
             | t:Product/t:AssemblySet/t:Assembly/t:DatumReferenceFrameIds
              /t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of part drawings -->

    <xs:key name="DrawingIdKey">
      <xs:annotation>
        <xs:documentation>
          The DrawingIdKey collects all QIF ids of PrintedDrawings and
          DigitalDrawings and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:PartSet/t:Part/t:DefinitionExternal
              /t:PrintedDrawing
             | t:Product/t:PartSet/t:Part/t:DefinitionExternal
              /t:DigitalDrawing
             | t:Product/t:AssemblySet/t:Assembly/t:DefinitionExternal
              /t:PrintedDrawing
             | t:Product/t:AssemblySet/t:Assembly/t:DefinitionExternal
              /t:DigitalDrawing
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DrawingIdKeyref"
      refer="DrawingIdKey">
      <xs:annotation>
        <xs:documentation>
          The DrawingIdKeyref requires that the DrawingId in a
          LocationOnDrawing in a CharacteristicItem be the id of a
          PrintedDrawing or a DigitalDrawing.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems/t:*
              /t:LocationOnDrawing"/>
      <xs:field xpath="t:DrawingId"/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of product components -->

    <xs:key name="ProductComponentIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProductComponentIdKey collects all ids of model components
          and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:ComponentSet/t:Component
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ProductComponentIdKeyref"
      refer="ProductComponentIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProductComponentIdKeyref requires that a component item Id
          located anywhere in a product be the id of a Component.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:AssemblySet/t:Assembly/t:ComponentIds/t:Id
             | t:Product/t:AsmPaths/t:AsmPath/t:ComponentIds/t:Id
             | t:Product/t:ViewSet/t:SavedViewSet/t:SavedView
              /t:ComponentIds/t:Id
             | t:Product/t:ViewSet/t:SimplifiedRepresentationSet
              /t:SimplifiedRepresentation/t:SimplifiedRepresentationGroups
              /t:SimplifiedRepresentationGroup/t:ComponentIds/t:Id
             | t:Product/t:ViewSet/t:ExplodedViewSet/t:ExplodedView
              /t:MoveGroups/t:MoveGroup/t:ComponentIds/t:Id
             | t:Product/t:ViewSet/t:DisplayStyleSet/t:DisplayStyle
              /t:DisplayStyleGroups/t:DisplayStyleGroup/t:ComponentIds/t:Id
             | t:Product/t:RootComponent/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and two keyrefs for QIF ids of product parts -->

    <xs:key name="ProductPartIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProductPartIdKey collects all ids of model parts and all ids
          of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:PartSet/t:Part
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ProductComponentPartKeyref"
      refer="ProductPartIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProductComponentPartKeyref requires that parts whose ids
          are specified in components be present in the parts set
          (PartSet).
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath="t:Product/t:ComponentSet/t:Component/t:Part/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:keyref name="ProductRootPartIdKeyref"
      refer="ProductPartIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProductRootPartIdKeyref requires that the part whose id is
          specified in RootPart be present in the part set (PartSet).
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath="t:Product/t:RootPart/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and two keyrefs for QIF ids of product assemblies -->

    <xs:key name="ProductAssemblyIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProductAssemblyIdKey collects all ids of model assemblies and
          all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:AssemblySet/t:Assembly
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ProductComponentAssemblyKeyref"
      refer="ProductAssemblyIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProductComponentAssemblyKeyref requires that assemblies whose
          ids are specified in components be present in the assemblies set
          (AssemblySet).
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:ComponentSet/t:Component/t:Assembly/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:keyref name="ProductRootAssemblyIdKeyref"
      refer="ProductAssemblyIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProductRootAssemblyIdKeyref requires that the assembly whose
          id is specified in RootAssembly be present in the assembly set
          (AssemblySet).
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath="t:Product/t:RootAssembly/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of external entities -->

    <xs:key name="EntityExternalIdKey">
      <xs:annotation>
        <xs:documentation>
          The EntityExternalIdKey collects all QIF ids of external entities.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:PartSet/t:Part/t:DefinitionExternal/t:*
              /t:Entities/t:Entity
             | t:Product/t:AssemblySet/t:Assembly/t:DefinitionExternal/t:*
              /t:Entities/t:Entity
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EntityExternalIdKeyref"
      refer="EntityExternalIdKey">
      <xs:annotation>
        <xs:documentation>
          The EntityExternalIdKeyref requires that an EntityExternalIds/Id
          located anywhere be the id of an EntityExternal.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:*/t:EntityExternalIds/t:Id
             | t:Characteristics/t:CharacteristicNominals/t:*
              /t:EntityExternalIds/t:Id
             | t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem/t:ExternalCADCoordinateSystemId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- end key and one keyref for QIF ids of external entities -->
<!-- start key and one keyref for QIF ids of feature items -->

    <xs:key name="FeatureItemIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureItemIdKey collects all QIF ids of
          FeatureItems and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FeatureItemIdKeyref"
      refer="FeatureItemIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureItemIdKeyref requires that a feature item Id
          located anywhere be the id of a FeatureItem.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeatures/t:AverageFeature/t:*/t:FeatureItemId
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:FeatureItemIds
              /t:Id
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:*/t:FeatureItemId
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements/t:*
              /t:ZoneDataSet/t:ZoneData/t:FeatureItemId
             | t:Characteristics/t:CharacteristicItems/t:*/t:FeatureItemIds
              /t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="ProductFaceIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProductFaceIdKey collects all QIF ids of faces and all ids of
          external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:TopologySet/t:FaceSet/t:Face
             | t:Product/t:TopologySet/t:FaceSet/t:FaceMesh
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ProductFaceIdKeyref"
      refer="ProductFaceIdKey">
      <xs:annotation>
        <xs:documentation>
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath="t:FeatureZones/t:*/t:FaceIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of feature nominals -->

    <xs:key name="FeatureNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureNominalIdKey collects all QIF ids of FeatureNominals
          and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FeatureNominalIdKeyref"
      refer="FeatureNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureNominalIdKeyref requires that a feature nominal Id
          located anywhere be the id of a FeatureNominal.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:*/t:FeatureNominalIds/t:Id
             | t:Features/t:FeatureNominals/t:OtherNonShapeFeatureNominal
              /t:ReferenceFeatureNominalIds/t:Id
             | t:Features/t:FeatureNominals
              /t:SurfaceOfRevolutionFeatureNominal
              /t:ReferenceFeatureNominalId
             | t:Features/t:FeatureNominals
              /t:ExtrudedCrossSectionFeatureNominal
              /t:CrossSectionReferenceFeatureId/t:Id
             | t:DatumTargetDefinitions/t:DatumTarget/t:FeatureNominalId
             | t:Characteristics/t:CharacteristicNominals/t:*
              /t:FeatureNominalIds/t:Id
             | t:DatumDefinitions/t:DatumDefinition/t:FeatureNominalIds/t:Id
             | t:DatumReferenceFrames/t:DatumReferenceFrame/t:Datums
              /t:Datum/t:*/t:FeatureNominalId
             | t:Product/t:PartSet/t:Part/t:FeatureNominalIds/t:Id
             | t:Product/t:AssemblySet/t:Assembly/t:FeatureNominalIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of feature nominals or items -->

    <xs:key name="FeatureNominalOrItemIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureNominalOrItemIdKey collects all QIF ids of
          FeatureNominals, FeatureItems, and external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:*
             | t:Features/t:FeatureItems/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FeatureNominalOrItemIdKeyref"
      refer="FeatureNominalOrItemIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureNominalOrItemIdKeyref requires that a FeatureId
          located anywhere be the id of a FeatureNominal or a FeatureItem.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem/t:AlignmentOperations/t:BestFit
              /t:BaseFeature/t:FeatureId
             | t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem/t:AlignmentOperations/t:*/t:*
              /t:BaseFeature/t:FeatureId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of feature zone -->

    <xs:key name="FeatureZoneIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureZoneIdKey collects all QIF ids of FeatureZones and all
          ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FeatureZones/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FeatureZoneIdKeyref"
      refer="FeatureZoneIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureZoneIdKeyref requires that a feature zone Id
          located anywhere be the id of a FeatureZone.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals/t:*
              /t:FeatureZoneIds/t:Id
             | t:DatumTargetDefinitions/t:DatumTarget/t:TargetZoneId
             | t:Characteristics/t:CharacteristicNominals
              /t:PositionCharacteristicNominal/t:CoordinateMethod
              /t:FeatureZoneIds/t:Id
             | t:Characteristics/t:CharacteristicNominals
              /t:StraightnessCharacteristicNominal/t:DirectionCurveId
             | t:Characteristics/t:CharacteristicNominals
              /t:CircularityCharacteristicNominal/t:ProfileCurveId
             | t:Characteristics/t:CharacteristicNominals
              /t:CircularRunoutCharacteristicNominal/t:ProfileCurveId
             | t:Characteristics/t:CharacteristicNominals
              /t:LineProfileCharacteristicNominal/t:ProfileCurveId
             | t:Product/t:PartSet/t:Part/t:FeatureZoneIds/t:Id
             | t:Product/t:AssemblySet/t:Assembly/t:FeatureZoneIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of feature measurements -->

    <xs:key name="FeatureMeasurementIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureMeasurementIdKey collects all QIF ids of all
          FeatureMeasurements and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FeatureMeasurementIdKeyref"
      refer="FeatureMeasurementIdKey">
      <xs:annotation>
        <xs:documentation>
          The FeatureMeasurementIdKeyref requires that an id in the
          MeasurementIds of an AverageFeature be the id of a
          FeatureMeasurement. This is a weak check since it does not
          require that the referenced features be the same type of feature
          as the FeatureMeasurement of the AverageFeature. That check
          cannot be done in XSDL.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of CharacteristicItems -->

    <xs:key name="CharacteristicItemIdKey">
      <xs:annotation>
        <xs:documentation>
          The CharacteristicItemIdKey collects all QIF ids of all
          CharacteristicItems and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CharacteristicItemIdKeyref"
      refer="CharacteristicItemIdKey">
      <xs:annotation>
        <xs:documentation>
          The CharacteristicItemIdKeyref requires that a characteristic
          item Id located anywhere be the id of a CharacteristicItem.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicGroups/t:*
              /t:CharacteristicItemIds/t:Id
             | t:Statistics/t:StatisticalStudyPlans/t:*
              /t:CharacteristicItemIds/t:Id
             | t:Plan/t:*/t:*/t:*/t:*/t:CharacteristicItemIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- The following keys are for segmenting QIF ids by type -->

    <xs:key name="CharacteristicNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The CharacteristicNominalIdKey collects all QIF ids of all
          CharacteristicNominals and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:key name="DimensionalCharacteristicNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The DimensionalCharacteristicNominalIdKey collects all QIF ids of
          all DimensionalCharacteristicNominals and all ids of external QIF
          documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:AngleBetweenCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:AngleCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:AngleFromCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:AngularCoordinateCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:ChordCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:ConicalTaperCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:CurveLengthCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:DepthCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:DiameterCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:DistanceBetweenCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:DistanceFromCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:FlatTaperCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:HeightCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:LengthCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:LinearCoordinateCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:RadiusCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:SphericalDiameterCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:SphericalRadiusCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:SquareCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:ThicknessCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedAngularCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedLinearCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:WidthCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:key name="GeometricCharacteristicNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The GeometricCharacteristicNominalIdKey collects all QIF ids of
          all GeometricCharacteristicNominals and all ids of external QIF
          documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:AngularityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:CircularityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:CircularRunoutCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:CoaxialityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:ConcentricityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:ConicityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:CylindricityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:EllipticityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:FlatnessCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:LineProfileCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:OtherFormCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:ParallelismCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:PerpendicularityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:PointProfileCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:PositionCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:SphericityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:StraightnessCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:SurfaceProfileCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:SurfaceProfileNonUniformCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:SymmetryCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:ToroidicityCharacteristicNominal
             | t:Characteristics/t:CharacteristicNominals
              /t:TotalRunoutCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

<!-- start keys and keyrefs for UnitName of units -->

    <xs:key name="AngularUnitKey">
      <xs:annotation>
        <xs:documentation>
          The AngularUnitKey collects all UnitNames of AngularUnits in
          FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FileUnits/t:PrimaryUnits/t:AngularUnit
             | t:FileUnits/t:PrimaryUnits/t:PMIAngularUnit
             | t:FileUnits/t:OtherUnits/t:AngularUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="AngularUnitKeyref"
      refer="AngularUnitKey">
      <xs:annotation>
        <xs:documentation>
          The AngularUnitKeyref requires that an angularUnit located
          anywhere be the UnitName of an AngularUnit defined in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:GeometrySet/t:*/t:*/t:*/t:*/t:*
              /t:LatitudeLongitudeSweep/t:*
             | t:Product/t:GeometrySet/t:*/t:*/t:*/t:LatitudeLongitudeSweep
              /t:*
             | t:Product/t:GeometrySet/t:*/t:*/t:*/t:*/t:*/t:Sweep
              /t:DomainAngle
             | t:Product/t:GeometrySet/t:*/t:*/t:*/t:Sweep/t:DomainAngle
             | t:Characteristics/t:CharacteristicNominals/t:*/t:TargetValue
             | t:Characteristics/t:CharacteristicNominals/t:*/t:*/t:*
             | t:Characteristics/t:CharacteristicNominals/t:*/t:*/t:*/t:*
             | t:Characteristics/t:CharacteristicDefinitions/t:*
              /t:Tolerance/t:*
             | t:Features/t:FeatureNominals/t:*/t:*/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults/t:*
              /t:*/t:*/t:*
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*
             | t:Product/t:ViewSet/t:HatchStyleSet/t:HatchStyle/t:Patterns
              /t:Pattern/t:Angle
             | t:Product/t:ViewSet/t:ExplodedViewSet/t:ExplodedView
              /t:MoveGroups/t:MoveGroup/t:Rotate/t:Angle"/>
      <xs:field xpath="@angularUnit"/>
    </xs:keyref>

    <xs:key name="LinearUnitKey">
      <xs:annotation>
        <xs:documentation>
          The LinearUnitKey collects all UnitNames of LinearUnits in
          FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FileUnits/t:PrimaryUnits/t:LinearUnit
             | t:FileUnits/t:PrimaryUnits/t:PMILinearUnit
             | t:FileUnits/t:OtherUnits/t:LinearUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="LinearUnitKeyref"
      refer="LinearUnitKey">
      <xs:annotation>
        <xs:documentation>
          The LinearUnitKeyref requires that a linearUnit located anywhere
          be the UnitName of a LinearUnit defined in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Transforms/t:Transform
             | t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem/t:NominalTransform
             | t:DatumReferenceFrames/t:DatumReferenceFrame/t:Datums
              /t:Datum/t:SimpleDatum/t:DatumFeatureSimulatorModifier/t:*
             | t:ThreadSpecifications/t:ThreadSpecification/t:*/t:*
             | t:Product/t:*/t:*/t:*/t:*/t:*/t:*
             | t:Product/t:*/t:*/t:*/t:*/t:*
             | t:Product/t:*/t:*/t:*/t:*
             | t:Features/t:*/t:*/t:*/t:*/t:*
             | t:Features/t:*/t:*/t:*/t:*
             | t:Features/t:*/t:*/t:*
             | t:Characteristics/t:*/t:*/t:*/t:*
             | t:Characteristics/t:*/t:*/t:*
             | t:Characteristics/t:CharacteristicNominals/t:*/t:*/t:*/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults/t:*
              /t:*/t:*/t:*/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults/t:*
              /t:*/t:*/t:*
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*/t:*/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*
             | t:Product/t:ViewSet/t:ExplodedViewSet/t:ExplodedView
              /t:MoveGroups/t:MoveGroup/t:*/t:*"/>
      <xs:field xpath="@linearUnit"/>
    </xs:keyref>

    <xs:key name="TemperatureUnitKey">
      <xs:annotation>
        <xs:documentation>
          The TemperatureUnitKey collects all UnitNames of TemperatureUnits
          in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FileUnits/t:PrimaryUnits/t:TemperatureUnit
             | t:FileUnits/t:OtherUnits/t:TemperatureUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="TemperatureUnitKeyref"
      refer="TemperatureUnitKey">
      <xs:annotation>
        <xs:documentation>
          The TemperatureUnitKeyref requires that a temperatureUnit located
          anywhere be the UnitName of a TemperatureUnit defined in
          FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:MeasurementResources/t:MeasurementDevices/t:*
              /t:Calibrations/t:Calibration/t:Temperatures/t:Temperature
              /t:Temperature
             | t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedTemperatureCharacteristicNominal/t:*
             | t:Characteristics/t:CharacteristicDefinitions
              /t:UserDefinedTemperatureCharacteristicDefinition
              /t:Tolerance/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedTemperatureCharacteristicMeasurement/t:Value
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*"/>
      <xs:field xpath="@temperatureUnit"/>
    </xs:keyref>

    <xs:key name="AreaUnitKey">
      <xs:annotation>
        <xs:documentation>
          The AreaUnitKey collects all UnitNames of AreaUnits
          in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FileUnits/t:PrimaryUnits/t:AreaUnit
             | t:FileUnits/t:PrimaryUnits/t:PMIAreaUnit
             | t:FileUnits/t:OtherUnits/t:AreaUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="AreaUnitKeyref"
      refer="AreaUnitKey">
      <xs:annotation>
        <xs:documentation>
          The AreaUnitKeyref requires that an areaUnit located anywhere
          be the UnitName of an AreaUnit defined in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedAreaCharacteristicNominal/t:*
             | t:Characteristics/t:CharacteristicDefinitions
              /t:UserDefinedAreaCharacteristicDefinition/t:Tolerance/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedAreaCharacteristicMeasurement/t:Value
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*"/>
      <xs:field xpath="@areaUnit"/>
    </xs:keyref>

    <xs:key name="ForceUnitKey">
      <xs:annotation>
        <xs:documentation>
          The ForceUnitKey collects all UnitNames of ForceUnits
          in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FileUnits/t:PrimaryUnits/t:ForceUnit
             | t:FileUnits/t:OtherUnits/t:ForceUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="ForceUnitKeyref"
      refer="ForceUnitKey">
      <xs:annotation>
        <xs:documentation>
          The ForceUnitKeyref requires that a forceUnit located anywhere
          be the UnitName of a ForceUnit defined in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedForceCharacteristicNominal/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedForceCharacteristicMeasurement/t:Value
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*"/>
      <xs:field xpath="@forceUnit"/>
    </xs:keyref>

    <xs:key name="MassUnitKey">
      <xs:annotation>
        <xs:documentation>
          The MassUnitKey collects all UnitNames of MassUnits
          in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FileUnits/t:PrimaryUnits/t:MassUnit
             | t:FileUnits/t:OtherUnits/t:MassUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="MassUnitKeyref"
      refer="MassUnitKey">
      <xs:annotation>
        <xs:documentation>
          The MassUnitKeyref requires that a massUnit located anywhere
          be the UnitName of a MassUnit defined in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedMassCharacteristicNominal/t:*
             | t:Characteristics/t:CharacteristicDefinitions
              /t:UserDefinedMassCharacteristicDefinition/t:Tolerance/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedMassCharacteristicMeasurement/t:Value
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*"/>
      <xs:field xpath="@massUnit"/>
    </xs:keyref>

    <xs:key name="PressureUnitKey">
      <xs:annotation>
        <xs:documentation>
          The PressureUnitKey collects all UnitNames of PressureUnits
          in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FileUnits/t:PrimaryUnits/t:PressureUnit
             | t:FileUnits/t:OtherUnits/t:PressureUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="PressureUnitKeyref"
      refer="PressureUnitKey">
      <xs:annotation>
        <xs:documentation>
          The PressureUnitKeyref requires that a pressureUnit located
          anywhere be the UnitName of a PressureUnit defined in
          FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedPressureCharacteristicNominal/t:*
             | t:Characteristics/t:CharacteristicDefinitions
              /t:UserDefinedPressureCharacteristicDefinition/t:Tolerance
              /t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedPressureCharacteristicMeasurement/t:Value
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*"/>
      <xs:field xpath="@pressureUnit"/>
    </xs:keyref>

    <xs:key name="SpeedUnitKey">
      <xs:annotation>
        <xs:documentation>
          The SpeedUnitKey collects all UnitNames of SpeedUnits
          in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FileUnits/t:PrimaryUnits/t:SpeedUnit
             | t:FileUnits/t:OtherUnits/t:SpeedUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="SpeedUnitKeyref"
      refer="SpeedUnitKey">
      <xs:annotation>
        <xs:documentation>
          The SpeedUnitKeyref requires that a speedUnit located anywhere
          be the UnitName of a SpeedUnit defined in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedSpeedCharacteristicNominal/t:*
             | t:Characteristics/t:CharacteristicDefinitions
              /t:UserDefinedSpeedCharacteristicDefinition/t:Tolerance/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedSpeedCharacteristicMeasurement/t:Value
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*"/>
      <xs:field xpath="@speedUnit"/>
    </xs:keyref>

    <xs:key name="TimeUnitKey">
      <xs:annotation>
        <xs:documentation>
          The TimeUnitKey collects all UnitNames of TimeUnits
          in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:FileUnits/t:PrimaryUnits/t:TimeUnit
             | t:FileUnits/t:OtherUnits/t:TimeUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="TimeUnitKeyref"
      refer="TimeUnitKey">
      <xs:annotation>
        <xs:documentation>
          The TimeUnitKeyref requires that a TimeUnit located anywhere
          be the UnitName of a TimeUnit defined in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedTimeCharacteristicNominal/t:*
             | t:Characteristics/t:CharacteristicDefinitions
              /t:UserDefinedTimeCharacteristicDefinition/t:Tolerance/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedTimeCharacteristicMeasurement/t:Value
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*"/>
      <xs:field xpath="@timeUnit"/>
    </xs:keyref>

    <xs:key name="UserDefinedUnitKey">
      <xs:annotation>
        <xs:documentation>
          The UserDefinedUnitKey collects all UnitNames of
          UserDefinedUnits in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath="t:FileUnits/t:UserDefinedUnits/t:UserDefinedUnit"/>
      <xs:field xpath="t:UnitName"/>
    </xs:key>

    <xs:keyref name="UserDefinedUnitKeyref"
      refer="UserDefinedUnitKey">
      <xs:annotation>
        <xs:documentation>
          The UserDefinedUnitKeyref requires that a unitName in a nominal
          or measured UserDefinedUnitCharacteristic be the UnitName of a
          UserDefinedUnit defined in FileUnits.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedUnitCharacteristicNominal/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedUnitCharacteristicMeasurement/t:Value
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:*
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:*"/>
      <xs:field xpath="@unitName"/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of datum target definitions -->

    <xs:key name="DatumTargetDefinitionIdKey">
      <xs:annotation>
        <xs:documentation>
          The DatumTargetDefinitionIdKey collects all QIF ids of
          DatumTarget in the DatumTargetDefinitions and all ids of external
          QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:DatumTargetDefinitions/t:DatumTarget
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DatumTargetDefinitionIdKeyref"
      refer="DatumTargetDefinitionIdKey">
      <xs:annotation>
        <xs:documentation>
          The DatumTargetDefinitionIdKeyref requires that a datum target Id
          located anywhere be the id of a DatumTargetDefinition.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:DatumDefinitions/t:DatumDefinition/t:DatumTargetIds/t:Id
             | t:Product/t:PartSet/t:Part/t:DatumTargetDefinitionIds/t:Id
             | t:Product/t:AssemblySet/t:Assembly
              /t:DatumTargetDefinitionIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of NotableEvents -->

    <xs:key name="NotableEventIdKey">
      <xs:annotation>
        <xs:documentation>
          The NotableEventIdKey collects all QIF ids of NotableEvents and
          all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:PreInspectionTraceability/t:NotableEvents/t:NotableEvent
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="NotableEventIdKeyref"
      refer="NotableEventIdKey">
      <xs:annotation>
        <xs:documentation>
          The NotableEventIdKeyref requires that a notable event Id located
          anywhere be the id of a NotableEvent.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:ComponentSet/t:Component/t:Traceability
              /t:NotableEventIds/t:Id
             | t:Features/t:FeatureItems/t:*/t:NotableEventIds/t:Id
             | t:Characteristics/t:CharacteristicItems/t:*
              /t:NotableEventIds/t:Id
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:InspectionTraceability/t:NotedEvents/t:NotedEvent
              /t:NotableEventId
             | t:Results/t:ActualComponentSets/t:ActualComponentSet
              /t:ActualComponent/t:Traceability/t:NotableEventIds/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:InspectionTraceability/t:NotedEvents/t:NotedEvent
              /t:NotableEventId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of NotedEvents -->

    <xs:key name="NotedEventIdKey">
      <xs:annotation>
        <xs:documentation>
          The NotedEventIdKey collects all QIF ids of NotedEvents and all
          ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:InspectionTraceability/t:NotedEvents/t:NotedEvent
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="NotedEventIdKeyref"
      refer="NotedEventIdKey">
      <xs:annotation>
        <xs:documentation>
          The NotedEventIdKeyref requires that a NotedEventIds/Id located
          anywhere be the id of a NotedEvent.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:*/t:NotedEventIds/t:Id
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements/t:*
              /t:NotedEventIds/t:Id
             | t:Results/t:ActualComponentSets/t:ActualComponentSet
              /t:ActualComponent/t:Traceability/t:NotedEventIds/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:*/t:NotedEventIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and two keyrefs for QIF ids of Transforms -->

    <xs:key name="TransformIdKey">
      <xs:annotation>
        <xs:documentation>
          The TransformIdKey collects all QIF ids of Transforms and all ids
          of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Transforms/t:Transform
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="TransformIdKeyref"
      refer="TransformIdKey">
      <xs:annotation>
        <xs:documentation>
          The TransformIdKeyref requires that a reference to transformation
          be the id of a Transform.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:PartSet/t:Part/t:*/t:*/t:TransformId
             | t:Characteristics/t:CharacteristicGroups/t:*/t:TransformId
             | t:Product/t:GeometrySet/t:Curve13Set/t:*/t:Transform/t:Id
             | t:Product/t:GeometrySet/t:SurfaceSet/t:*/t:Transform/t:Id
             | t:Product/t:TopologySet/t:BodySet/t:Body/t:Transform/t:Id
             | t:Product/t:ComponentSet/t:Component/t:Transform/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:keyref name="DRFTransformActualIdKeyref"
      refer="TransformIdKey">
      <xs:annotation>
        <xs:documentation>
          The DRFTransformActualIdKeyref requires that a
          DRFTransformActualId located anywhere be the id of a Transform.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements/t:*
              /t:*"/>
      <xs:field xpath="t:DRFTransformActualId"/>
    </xs:keyref>

<!-- start key and four keyrefs for QIF ids of CoordinateSystems -->

    <xs:key name="CoordinateSystemIdKey">
      <xs:annotation>
        <xs:documentation>
          The CoordinateSystemIdKey collects all QIF ids of
          CoordinateSystems and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CoordinateSystemIdKeyref"
      refer="CoordinateSystemIdKey">
      <xs:annotation>
        <xs:documentation>
          The CoordinateSystemIdKeyref requires that a CoordinateSystemId
          located anywhere be the id of a CoordinateSystem.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:DatumReferenceFrames/t:DatumReferenceFrame
             | t:Features/t:FeatureItems/t:*
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:CoordinateSystemActualTransforms/t:Transform"/>
      <xs:field xpath="t:CoordinateSystemId"/>
    </xs:keyref>

    <xs:keyref name="CommonCoordinateSystemIdKeyref"
      refer="CoordinateSystemIdKey">
      <xs:annotation>
        <xs:documentation>
          The CommonCoordinateSystemIdKeyref requires that the
          CommonCoordinateSystemId be the id of a CoordinateSystem.
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath="t:CoordinateSystems"/>
      <xs:field xpath="t:CommonCoordinateSystemId"/>
    </xs:keyref>

    <xs:keyref name="MachineCoordinateSystemIdKeyref"
      refer="CoordinateSystemIdKey">
      <xs:annotation>
        <xs:documentation>
          The MachineCoordinateSystemIdKeyref requires that the
          MachineCoordinateSystemId be the id of a CoordinateSystem.
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath="t:CoordinateSystems"/>
      <xs:field xpath="t:MachineCoordinateSystemId"/>
    </xs:keyref>

    <xs:keyref name="BaseCoordinateSystemIdKeyref"
      refer="CoordinateSystemIdKey">
      <xs:annotation>
        <xs:documentation>
          The BaseCoordinateSystemIdKeyref requires that a
          BaseCoordinateSystemId located anywhere be the id of a
          CoordinateSystem.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem/t:AlignmentOperations"/>
      <xs:field xpath="t:BaseCoordinateSystemId"/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of ThreadSpecifications -->

    <xs:key name="ThreadSpecificationIdKey">
      <xs:annotation>
        <xs:documentation>
          The ThreadSpecificationIdKey collects all QIF ids of
          ThreadSpecifications and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:ThreadSpecifications/t:ThreadSpecification/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ThreadSpecificationIdKeyref"
      refer="ThreadSpecificationIdKey">
      <xs:annotation>
        <xs:documentation>
          The ThreadSpecificationIdKeyref requires that a
          ThreadSpecificationId located anywhere be the id of a
          ThreadSpecification.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicDefinitions
              /t:ThreadCharacteristicDefinition
             | t:Features/t:FeatureDefinitions/t:ThreadedFeatureDefinition"/>
      <xs:field xpath="t:ThreadSpecificationId"/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of fixtures -->

    <xs:key name="FixtureIdKey">
      <xs:annotation>
        <xs:documentation>
          The FixtureIdKey collects all QIF ids of Fixtures in
          MeasurementResources and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:MeasurementResources/t:Fixtures/t:Fixture
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FixtureIdKeyref"
      refer="FixtureIdKey">
      <xs:annotation>
        <xs:documentation>
          The FixtureIdKeyref requires that a FixtureId located anywhere be
          the id of a Fixture defined in MeasurementResources.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:ComponentSet/t:Component/t:Traceability"/>
      <xs:field xpath="t:FixtureId"/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of measurement devices -->

    <xs:key name="MeasurementDeviceIdKey">
      <xs:annotation>
        <xs:documentation>
          The MeasurementDeviceIdKey collects all QIF ids of
          MeasurementDevices in MeasurementResources and all ids of
          external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:MeasurementResources/t:MeasurementDevices/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="MeasurementDeviceIdKeyref"
      refer="MeasurementDeviceIdKey">
      <xs:annotation>
        <xs:documentation>
          The MeasurementDeviceIdKeyref requires that a measurement device
          Id located anywhere be the id of a MeasurementDevice.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:ComponentSet/t:Component/t:Traceability
              /t:MeasurementDeviceIds/t:Id
             | t:Features/t:FeatureNominals/t:*/t:PointList/t:MeasurePoint
              /t:MeasurementDeviceId
             | t:Characteristics/t:CharacteristicItems/t:*
              /t:MeasurementDeviceIds/t:Id
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements/t:*
              /t:MeasurementDeviceIds/t:Id
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:*/t:PointList/t:MeasurePoint
              /t:MeasurementDeviceId
             | t:Statistics/t:StatisticalStudyPlans/t:*
              /t:MeasurementDeviceId
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:MeasurementDeviceId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of sensors -->

    <xs:key name="SensorIdKey">
      <xs:annotation>
        <xs:documentation>
          The SensorsIdKey collects all QIF ids of Sensors and all ids of
          external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:MeasurementResources/t:DetachableSensors/t:*
             | t:MeasurementResources/t:Tools/t:*/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SensorIdKeyref"
      refer="SensorIdKey">
      <xs:annotation>
        <xs:documentation>
          The SensorIdKeyref requires that a sensor id in Features or
          MeasurementResults be the id of a Sensor.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:*/t:PointList/t:MeasurePoint
              /t:SensorId
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:*/t:PointList/t:MeasurePoint/t:SensorId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of probe tips -->

    <xs:key name="ProbeTipIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProbeTipIdKey collects all QIF ids of ProbeTips.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:MeasurementResources/t:DetachableSensors
              /t:ComplexTactileProbeSensor/t:LocatedTips/t:LocatedTip
              /t:ProbeTip
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ProbeTipIdKeyref"
      refer="ProbeTipIdKey">
      <xs:annotation>
        <xs:documentation>
          The ProbeTipIdKeyref requires that a probe tip id in Features or
          MeasurementResults be the id of a ProbeTip.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:*/t:PointList/t:MeasurePoint
              /t:ProbeTipId
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:*/t:PointList/t:MeasurePoint
              /t:ProbeTipId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of measurement resources -->

    <xs:key name="MeasurementResourceIdKey">
      <xs:annotation>
        <xs:documentation>
          The MeasurementResourceIdKey collects all QIF ids of
          MeasurementResources of any sort and all ids of external QIF
          documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:MeasurementResources/t:DetachableSensors/t:*
             | t:MeasurementResources/t:Fixtures/t:Fixture
             | t:MeasurementResources/t:MeasurementDevices/t:*
             | t:MeasurementResources/t:Tools/t:*
             | t:MeasurementResources/t:Tools/t:ToolWithLVDTSensor
              /t:LVDTSensor
             | t:MeasurementResources/t:Tools/t:ToolWithCapacitiveSensor
              /t:CapacitiveSensor
             | t:MeasurementResources/t:Tools/t:ToolWithEddyCurrentSensor
              /t:EddyCurrentSensor
             | t:MeasurementResources/t:Tools
              /t:ToolWithConfocalChromaticSensor/t:ConfocalChromaticSensor
             | t:MeasurementResources/t:Tools/t:ToolWithDrawWireSensor
              /t:DrawWireSensor
             | t:MeasurementResources/t:Tools
              /t:ToolWithMagnetoInductiveSensor/t:MagnetoInductiveSensor
             | t:MeasurementResources/t:Tools/t:ToolWithDVRTSensor
              /t:DVRTSensor
             | t:MeasurementResources/t:Tools
              /t:ToolWithLaserTriangulationSensor
              /t:LaserTriangulationSensor
             | t:MeasurementResources/t:Tools
              /t:ToolWithStructuredLightSensor/t:StructuredLightSensor
             | t:MeasurementResources/t:Tools/t:ToolWithUltrasonicSensor
              /t:UltrasonicSensor
             | t:MeasurementResources/t:Tools
              /t:ToolWithSimpleTactileProbeSensor
              /t:SimpleTactileProbeSensor
             | t:MeasurementResources/t:Tools
              /t:ToolWithComplexTactileProbeSensor
              /t:ComplexTactileProbeSensor
             | t:MeasurementResources/t:Tools/t:ToolWithCCDCameraSensorType
              /t:ChargeCoupledDeviceCameraSensor
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="MeasurementResourceIdKeyref"
      refer="MeasurementResourceIdKey">
      <xs:annotation>
        <xs:documentation>
          The MeasurementResourceIdKeyref requires that a
          measurement resource Id located anywhere be the id of a
          MeasurementResource.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Plan/t:ActionMethods/t:*/t:ChosenResourceIds/t:Id
             | t:Plan/t:*/t:*/t:*/t:PreferredResourceIds/t:Id
             | t:Rules/t:DMESelectionRules/t:DMEDecisionRule/t:DMEThen
              /t:DMEDecisionId/t:DMEId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of assembly paths -->

    <xs:key name="AsmPathKey">
      <xs:annotation>
        <xs:documentation>
          The AsmPathKey collects all QIF ids of AsmPath/s and all ids of
          external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:AsmPaths/t:AsmPath
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AsmPathKeyref"
      refer="AsmPathKey">
      <xs:annotation>
        <xs:documentation>
          The AsmPathKeyref requires that an Id/@asmPath
          located anywhere be the id of an AsmPath.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:*/t:*/t:*/t:*/t:*/t:Id
             | t:Product/t:*/t:*/t:*/t:*/t:Id
             | t:Product/t:*/t:*/t:*/t:Id
             | t:Product/t:*/t:*/t:Id
             | t:Product/t:*/t:Id
             | t:Statistics/t:*/t:*/t:*/t:*/t:*/t:*/t:Id
             | t:Statistics/t:*/t:*/t:*/t:*/t:*/t:Id
             | t:Statistics/t:*/t:*/t:*/t:*/t:Id"/>
      <xs:field xpath="@asmPath"/>
    </xs:keyref>

    <xs:keyref name="ProductPartAssemblyValidationInstanceAsmPathKeyref"
      refer="AsmPathKey">
      <xs:annotation>
        <xs:documentation>
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:PartSet/t:Part/t:Validation/t:Instances
              /t:Instance/t:AsmPathId
             | t:Product/t:AssemblySet/t:Assembly/t:Validation/t:Instances
              /t:Instance/t:AsmPathId"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:keyref name="ActualComponentAsmPathKeyref"
      refer="AsmPathKey">
      <xs:annotation>
        <xs:documentation>
          The ActualComponentAsmPathKeyref requires that AsmPathId
          located in ActualComponent be the id of AsmPath.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:ActualComponentSets/t:ActualComponentSet
              /t:ActualComponent"/>
      <xs:field xpath="t:AsmPathId"/>
    </xs:keyref>

    <xs:keyref name="PreInspectionTraceabilityAsmPathKeyref"
      refer="AsmPathKey">
      <xs:annotation>
        <xs:documentation>
          The PreInspectionTraceabilityAsmPathKeyref requires that
          AsmPathIds located in PreInspectionTraceability be the ids of
          AsmPath.
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath="t:PreInspectionTraceability/t:AsmPathIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of products topology entities -->

    <xs:key name="TopologyKey">
      <xs:annotation>
        <xs:documentation>
          The TopologyKey collects all QIF ids of products topology and all
          ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:TopologySet/t:*/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EntityInternalTopologyKeyref"
      refer="TopologyKey">
      <xs:annotation>
        <xs:documentation>
          The EntityInternalTopologyKeyref requires that an
          EntityInternalIds/Id located anywhere be the id of a products
          topology.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:*/t:EntityInternalIds/t:Id
             | t:Characteristics/t:CharacteristicNominals/t:*
              /t:EntityInternalIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of views -->

    <xs:key name="ViewKey">
      <xs:annotation>
        <xs:documentation>
          The ViewKey collects all QIF ids of views and all ids of external
          QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:ViewSet/t:SavedViewSet/t:SavedView
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ViewKeyref"
      refer="ViewKey">
      <xs:annotation>
        <xs:documentation>
          The ViewKeyref requires that a ViewId of a characteristic be
          the id of a view.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems/t:*
              /t:LocationOnDrawing"/>
      <xs:field xpath="ViewId"/>
    </xs:keyref>

<!-- start key and two keyrefs for manufacturing process ids -->

    <xs:key name="ManufacturingProcessKey">
      <xs:annotation>
        <xs:documentation>
          The ManufacturingProcessKey collects all QIF ids of
          ManufacturingProcessTraceabilities and all ids of external QIF
          documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:ManufacturingProcessTraceabilities
              /t:ManufacturingProcessTraceability
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ManufacturingProcessIdKeyref"
      refer="ManufacturingProcessKey">
      <xs:annotation>
        <xs:documentation>
          The ManufacturingProcessIdKeyref requires that a
          ManufacturingProcessId located anywhere be the id of a
          ManufacturingProcessTraceability.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements/t:*
             | t:Results/t:ActualComponentSets/t:ActualComponentSet
              /t:ActualComponent/t:Traceability
             | t:Characteristics/t:CharacteristicGroups
              /t:CharacteristicManufacturingProcessGroup
             | t:Statistics/t:StatisticalStudyPlans
              /t:ProcessDifferenceStudyPlan
             | t:Statistics/t:StatisticalStudiesResults
              /t:ProcessDifferenceStudyResults
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:*
             | t:Product/t:ComponentSet/t:Component/t:Traceability"/>
      <xs:field xpath="t:ManufacturingProcessId"/>
    </xs:keyref>

    <xs:keyref name="OtherManufacturingProcessKeyref"
      refer="ManufacturingProcessKey">
      <xs:annotation>
        <xs:documentation>
          The OtherManufacturingProcessKeyref requires that a
          PreviousOperationId or an AssociatedTraceabilityId of a
          ManufacturingProcessTraceability be the id
          of a ManufacturingProcessTraceability.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:ManufacturingProcessTraceabilities
              /t:ManufacturingProcessTraceability/t:PreviousOperationId
             | t:ManufacturingProcessTraceabilities
              /t:ManufacturingProcessTraceability
              /t:AssociatedTraceabilityId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for manufacturing process traceability ids -->

    <xs:key name="ManufacturingProcessTraceabilityIdKey">
      <xs:annotation>
        <xs:documentation>
          The ManufacturingProcessTraceabilityIdKey collects all QIF ids of
          instances of ManufacturingProcessTraceabilityType and all ids of
          external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:ManufacturingProcessTraceabilities
              /t:ManufacturingProcessTraceability
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ManufacturingProcessTraceabilityIdKeyref"
      refer="ManufacturingProcessTraceabilityIdKey">
      <xs:annotation>
        <xs:documentation>
          The ManufacturingProcessTraceabilityIdKeyref requires that every
          reference intended to be a reference to an instance of
          ManufacturingProcessTraceabilityType be the QIF id of an instance
          of ManufacturingProcessTraceabilityType.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:ManufacturingProcessTraceabilities
              /t:ManufacturingProcessTraceability
              /t:AssociatedTraceabilityId
             | t:ManufacturingProcessTraceabilities
              /t:ManufacturingProcessTraceability/t:PreviousOperationId"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and two keyrefs for QIF ids of corrective actions -->

    <xs:key name="CorrectiveActionIdKey">
      <xs:annotation>
        <xs:documentation>
          The CorrectiveActionIdKey collects all QIF ids of
          CorrectiveActions and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:CorrectiveActionPlans/t:CorrectiveActionPlan
              /t:CorrectiveActions/t:CorrectiveAction
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PlanCorrectiveActionIdKeyref"
      refer="CorrectiveActionIdKey">
      <xs:annotation>
        <xs:documentation>
          The PlanCorrectiveActionIdKeyref requires that every id in a
          study plan intended to reference a CorrectiveAction be the id of
          a CorrectiveAction.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:CorrectiveActionPlans/t:CorrectiveActionPlan
              /t:AssignableCauses/t:AssignableCause/t:CorrectiveActionIds
              /t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:keyref name="ResultsCorrectiveActionIdKeyref"
      refer="CorrectiveActionIdKey">
      <xs:annotation>
        <xs:documentation>
          The ResultsCorrectiveActionIdKeyref requires that every id in
          study results intended to reference a CorrectiveAction be the id
          of a CorrectiveAction.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*/t:StudyIssues
              /t:StudyIssue/t:CorrectiveActionIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of assignable causes -->

    <xs:key name="AssignableCauseIdKey">
      <xs:annotation>
        <xs:documentation>
          The AssignableCauseIdKey collects all QIF ids of AssignableCauses
          and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:CorrectiveActionPlans/t:CorrectiveActionPlan
              /t:AssignableCauses/t:AssignableCause
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AssignableCauseIdKeyref"
      refer="AssignableCauseIdKey">
      <xs:annotation>
        <xs:documentation>
          The ControlMethodIdKeyref requires that an AssignableCauseId in
          any study results be the id of an assignable cause.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*/t:StudyIssues
              /t:StudyIssue/t:AssignableCauseIds"/>
      <xs:field xpath="Id"/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of control methods -->

    <xs:key name="ControlMethodIdKey">
      <xs:annotation>
        <xs:documentation>
          The ControlMethodIdKey collects all QIF ids of ControlMethods and
          all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudyPlans/t:ProductionStudyPlan
              /t:ControlMethods/t:ControlMethod
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ControlMethodIdKeyref"
      refer="ControlMethodIdKey">
      <xs:annotation>
        <xs:documentation>
          The ControlMethodIdKeyref requires that a ControlMethodId in
          ProductionStudyResults be the id of a control method.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults
              /t:ProductionStudyResults/t:ControlIssueDetailsList
              /t:ControlIssueDetails"/>
      <xs:field xpath="ControlMethodId"/>
    </xs:keyref>

<!-- start key and one keyref for QIF ids of study plans -->

    <xs:key name="StudyPlanIdKey">
      <xs:annotation>
        <xs:documentation>
          The StudyPlanIdKey collects all QIF ids of statistical study
          plans and all ids of external QIF documents.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudyPlans/t:*
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="StudyPlanIdKeyref"
      refer="StudyPlanIdKey">
      <xs:annotation>
        <xs:documentation>
          The StudyPlanIdKeyref requires that the Id of a
          StatisticalStudyResults be the id of a statistical study plan.
        </xs:documentation>
      </xs:annotation>
      <xs:selector xpath="t:Statistics/t:StatisticalStudiesResults/t:*"/>
      <xs:field xpath="t:StudyId"/>
    </xs:keyref>

<!-- START MEASUREMENT TO ITEM KEY/KEYREF PAIRS FOR FEATURES -->

    <xs:keyref name="CircularArcFeatureMeasurementToItemKeyref"
      refer="CircularArcFeatureItemKey">
      <xs:annotation>
        <xs:documentation>
          The CircularArcFeatureMeasurementToItemKeyref requires that the
          FeatureItemId of a CircularArcFeatureMeasurement be the QIF id of
          a CircularArcFeatureItem. All other
          FeatureMeasurementToItemKeyrefs are similar.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:CircularArcFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:CircularArcFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="CircularArcFeatureItemKey">
      <xs:annotation>
        <xs:documentation>
          The CircularArcFeatureItemKey collects all QIF ids of
          CircularArcFeatureItems and all ids of external QIF
          documents. All other FeatureItemKeys are similar.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:CircularArcFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CircleFeatureMeasurementToItemKeyref"
      refer="CircleFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:CircleFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:CircleFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="CircleFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:CircleFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConeFeatureMeasurementToItemKeyref"
      refer="ConeFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:ConeFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:ConeFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="ConeFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ConeFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConicalSegmentFeatureMeasurementToItemKeyref"
      refer="ConicalSegmentFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:ConicalSegmentFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:ConicalSegmentFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="ConicalSegmentFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ConicalSegmentFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CylinderFeatureMeasurementToItemKeyref"
      refer="CylinderFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:CylinderFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:CylinderFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="CylinderFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:CylinderFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CylindricalSegmentFeatureMeasurementToItemKeyref"
      refer="CylindricalSegmentFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:CylindricalSegmentFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:CylindricalSegmentFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="CylindricalSegmentFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:CylindricalSegmentFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EdgePointFeatureMeasurementToItemKeyref"
      refer="EdgePointFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:EdgePointFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:EdgePointFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="EdgePointFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:EdgePointFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EllipseFeatureMeasurementToItemKeyref"
      refer="EllipseFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:EllipseFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:EllipseFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="EllipseFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:EllipseFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EllipticalArcFeatureMeasurementToItemKeyref"
      refer="EllipticalArcFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:EllipticalArcFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:EllipticalArcFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="EllipticalArcFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:EllipticalArcFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ElongatedCylinderFeatureMeasurementToItemKeyref"
      refer="ElongatedCylinderFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:ElongatedCylinderFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:ElongatedCylinderFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="ElongatedCylinderFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ElongatedCylinderFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ExtrudedCrossSectionFeatureMeasurementToItemKeyref"
      refer="ExtrudedCrossSectionFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:ExtrudedCrossSectionFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:ExtrudedCrosssectionFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="ExtrudedCrossSectionFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ExtrudedCrossSectionFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="GroupFeatureMeasurementToItemKeyref"
      refer="GroupFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:GroupFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:GroupFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="GroupFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:GroupFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LineFeatureMeasurementToItemKeyref"
      refer="LineFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:LineFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:LineFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="LineFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:LineFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="MarkingFeatureMeasurementToItemKeyref"
      refer="MarkingFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:MarkingFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="MarkingFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:MarkingFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OppositeParallelLinesFeatureMeasurementToItemKeyref"
      refer="OppositeParallelLinesFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:OppositeParallelLinesFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:OppositeParallelLinesFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="OppositeParallelLinesFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OppositeParallelLinesFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OppositeAngledLinesFeatureMeasurementToItemKeyref"
      refer="OppositeAngledLinesFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:OppositeAngledLinesFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:OppositeAngledLinesFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="OppositeAngledLinesFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OppositeAngledLinesFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OppositeParallelPlanesFeatureMeasurementToItemKeyref"
      refer="OppositeParallelPlanesFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures
              /t:OppositeParallelPlanesFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:OppositeParallelPlanesFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="OppositeParallelPlanesFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OppositeParallelPlanesFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OppositeAngledPlanesFeatureMeasurementToItemKeyref"
      refer="OppositeAngledPlanesFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:OppositeAngledPlanesFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:OppositeAngledPlanesFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="OppositeAngledPlanesFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OppositeAngledPlanesFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherCurveFeatureMeasurementToItemKeyref"
      refer="OtherCurveFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:OtherCurveFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="OtherCurveFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OtherCurveFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherNonShapeFeatureMeasurementToItemKeyref"
      refer="OtherNonShapeFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:OtherNonShapeFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="OtherNonShapeFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OtherNonShapeFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherShapeFeatureMeasurementToItemKeyref"
      refer="OtherShapeFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:OtherShapeFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="OtherShapeFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OtherShapeFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherSurfaceFeatureMeasurementToItemKeyref"
      refer="OtherSurfaceFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:OtherSurfaceFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="OtherSurfaceFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OtherSurfaceFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:key name="PatternFeatureCircleItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PatternFeatureCircleItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:key name="PatternFeatureCircularArcItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PatternFeatureCircularArcItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:key name="PatternFeatureLinearItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PatternFeatureLinearItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:key name="PatternFeatureParallelogramItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PatternFeatureParallelogramItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PlaneFeatureMeasurementToItemKeyref"
      refer="PlaneFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:PlaneFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:PlaneFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="PlaneFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PlaneFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PointDefinedCurveFeatureMeasurementToItemKeyref"
      refer="PointDefinedCurveFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:PointDefinedCurveFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:PointdefinedCurveFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="PointDefinedCurveFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PointDefinedCurveFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PointDefinedSurfaceFeatureMeasurementToItemKeyref"
      refer="PointDefinedSurfaceFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:PointDefinedSurfaceFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:PointdefinedSurfaceFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="PointDefinedSurfaceFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PointDefinedSurfaceFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PointFeatureMeasurementToItemKeyref"
      refer="PointFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:PointFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:PointFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="PointFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PointFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphereFeatureMeasurementToItemKeyref"
      refer="SphereFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:SphereFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:SphereFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="SphereFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:SphereFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericalSegmentFeatureMeasurementToItemKeyref"
      refer="SphericalSegmentFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:SphericalSegmentFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:SphericalSegmentFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="SphericalSegmentFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:SphericalSegmentFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceOfRevolutionFeatureMeasurementToItemKeyref"
      refer="SurfaceOfRevolutionFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:SurfaceOfRevolutionFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:SurfaceOfRevolutionFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="SurfaceOfRevolutionFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:SurfaceOfRevolutionFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ThreadedFeatureMeasurementToItemKeyref"
      refer="ThreadedFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:ThreadedFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:ThreadedFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="ThreadedFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ThreadedFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ToroidalSegmentFeatureMeasurementToItemKeyref"
      refer="ToroidalSegmentFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:ToroidalSegmentFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:ToroidalSegmentFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="ToroidalSegmentFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ToroidalSegmentFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="TorusFeatureMeasurementToItemKeyref"
      refer="TorusFeatureItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:TorusFeatureMeasurement
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:AverageFeature/t:TorusFeatureMeasurement"/>
      <xs:field xpath="t:FeatureItemId"/>
    </xs:keyref>

    <xs:key name="TorusFeatureItemKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:TorusFeatureItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

<!-- END MEASUREMENT TO ITEM KEY/KEYREF PAIRS FOR FEATURES -->
<!-- START ITEM TO NOMINAL KEY/KEYREF PAIRS FOR FEATURES -->

    <xs:keyref name="CircularArcFeatureItemToNominalKeyref"
      refer="CircularArcFeatureNominalKey">
      <xs:annotation>
        <xs:documentation>
          The CircularArcFeatureItemToNominalKeyref requires that the
          FeatureNominalId of a CircularArcFeatureItem be the QIF id of a
          CircularArcFeatureNominal or an external QIF document. All other
          FeatureItemToNominalKeyrefs are similar.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:CircularArcFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="CircularArcFeatureNominalKey">
      <xs:annotation>
        <xs:documentation>
          The CircularArcFeatureNominalKey collects all QIF ids of
          CircularArcFeatureNominals and all ids of external QIF documents.
          All other FeatureNominalKeys are similar.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:CircularArcFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CircleFeatureItemToNominalKeyref"
      refer="CircleFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:CircleFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="CircleFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:CircleFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConeFeatureItemToNominalKeyref"
      refer="ConeFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:ConeFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="ConeFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:ConeFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConicalSegmentFeatureItemToNominalKeyref"
      refer="ConicalSegmentFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ConicalSegmentFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="ConicalSegmentFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:ConicalSegmentFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CylinderFeatureItemToNominalKeyref"
      refer="CylinderFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:CylinderFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="CylinderFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:CylinderFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CylindricalSegmentFeatureItemToNominalKeyref"
      refer="CylindricalSegmentFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:CylindricalSegmentFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="CylindricalSegmentFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:CylindricalSegmentFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EdgePointFeatureItemToNominalKeyref"
      refer="EdgePointFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:EdgePointFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="EdgePointFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:EdgePointFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EllipseFeatureItemToNominalKeyref"
      refer="EllipseFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:EllipseFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="EllipseFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:EllipseFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EllipticalArcFeatureItemToNominalKeyref"
      refer="EllipticalArcFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:EllipticalArcFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="EllipticalArcFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:EllipticalArcFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ElongatedCylinderFeatureItemToNominalKeyref"
      refer="ElongatedCylinderFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ElongatedCylinderFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="ElongatedCylinderFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:ElongatedCylinderFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ExtrudedCrossSectionFeatureItemToNominalKeyref"
      refer="ExtrudedCrossSectionFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ExtrudedCrossSectionFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="ExtrudedCrossSectionFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:ExtrudedCrossSectionFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="GroupFeatureItemToNominalKeyref"
      refer="GroupFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:GroupFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="GroupFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:GroupFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LineFeatureItemToNominalKeyref"
      refer="LineFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:LineFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="LineFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:LineFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="MarkingFeatureItemToNominalKeyref"
      refer="MarkingFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:MarkingFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="MarkingFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:MarkingFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OppositeParallelLinesFeatureItemToNominalKeyref"
      refer="OppositeParallelLinesFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OppositeParallelLinesFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="OppositeParallelLinesFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:OppositeParallelLinesFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OppositeAngledLinesFeatureItemToNominalKeyref"
      refer="OppositeAngledLinesFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OppositeAngledLinesFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="OppositeAngledLinesFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:OppositeAngledLinesFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OppositeParallelPlanesFeatureItemToNominalKeyref"
      refer="OppositeParallelPlanesFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OppositeParallelPlanesFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="OppositeParallelPlanesFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:OppositeParallelPlanesFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OppositeAngledPlanesFeatureItemToNominalKeyref"
      refer="OppositeAngledPlanesFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OppositeAngledPlanesFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="OppositeAngledPlanesFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:OppositeAngledPlanesFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherCurveFeatureItemToNominalKeyref"
      refer="OtherCurveFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:OtherCurveFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="OtherCurveFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:OtherCurveFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherNonShapeFeatureItemToNominalKeyref"
      refer="OtherNonShapeFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OtherNonShapeFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="OtherNonShapeFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:OtherNonShapeFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherShapeFeatureItemToNominalKeyref"
      refer="OtherShapeFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:OtherShapeFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="OtherShapeFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:OtherShapeFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherSurfaceFeatureItemToNominalKeyref"
      refer="OtherSurfaceFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:OtherSurfaceFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="OtherSurfaceFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:OtherSurfaceFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PatternFeatureCircleItemToNominalKeyref"
      refer="PatternFeatureCircleNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PatternFeatureCircleItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="PatternFeatureCircleNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:PatternFeatureCircleNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PatternFeatureCircularArcItemToNominalKeyref"
      refer="PatternFeatureCircularArcNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PatternFeatureCircularArcItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="PatternFeatureCircularArcNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:PatternFeatureCircularArcNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PatternFeatureLinearItemToNominalKeyref"
      refer="PatternFeatureLinearNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PatternFeatureLinearItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="PatternFeatureLinearNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:PatternFeatureLinearNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PatternFeatureParallelogramItemToNominalKeyref"
      refer="PatternFeatureParallelogramNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PatternFeatureParallelogramItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="PatternFeatureParallelogramNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:PatternFeatureParallelogramNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PlaneFeatureItemToNominalKeyref"
      refer="PlaneFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:PlaneFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="PlaneFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:PlaneFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PointDefinedCurveFeatureItemToNominalKeyref"
      refer="PointDefinedCurveFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PointDefinedCurveFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="PointDefinedCurveFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:PointDefinedCurveFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PointDefinedSurfaceFeatureItemToNominalKeyref"
      refer="PointDefinedSurfaceFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:PointDefinedSurfaceFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="PointDefinedSurfaceFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:PointDefinedSurfaceFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PointFeatureItemToNominalKeyref"
      refer="PointFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:PointFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="PointFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:PointFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphereFeatureItemToNominalKeyref"
      refer="SphereFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:SphereFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="SphereFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:SphereFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericalSegmentFeatureItemToNominalKeyref"
      refer="SphericalSegmentFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:SphericalSegmentFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="SphericalSegmentFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:SphericalSegmentFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceOfRevolutionFeatureItemToNominalKeyref"
      refer="SurfaceOfRevolutionFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:SurfaceOfRevolutionFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="SurfaceOfRevolutionFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals
              /t:SurfaceOfRevolutionFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ThreadedFeatureItemToNominalKeyref"
      refer="ThreadedFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:ThreadedFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="ThreadedFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:ThreadedFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ToroidalSegmentFeatureItemToNominalKeyref"
      refer="ToroidalSegmentFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureItems/t:ToroidalSegmentFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="ToroidalSegmentFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:ToroidalSegmentFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="TorusFeatureItemToNominalKeyref"
      refer="TorusFeatureNominalKey">
      <xs:selector xpath="t:Features/t:FeatureItems/t:TorusFeatureItem"/>
      <xs:field xpath="t:FeatureNominalId"/>
    </xs:keyref>

    <xs:key name="TorusFeatureNominalKey">
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:TorusFeatureNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

<!-- END ITEM TO NOMINAL KEY/KEYREF PAIRS FOR FEATURES -->
<!-- START ITEM TO NOMINAL KEYREFS FOR CHARACTERISTICS -->

    <xs:keyref name="AngleBetweenCharacteristicItemToNominalKeyref"
      refer="AngleBetweenCharacteristicNominalKey">
      <xs:annotation>
        <xs:documentation>
          The AngleBetweenCharacteristicItemToNominalKeyref requires that
          the NominalId of an AngleBetweenCharacteristicItem be the QIF id
          of an AngleBetweenCharacteristicNominal or an external QIF
          document. All other CharacteristicItemToNominalKeyrefs are
          similar.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngleBetweenCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="AngleBetweenCharacteristicNominalKey">
      <xs:annotation>
        <xs:documentation>
          The AngleBetweenCharacteristicNominalKey collects all QIF ids of
          AngleBetweenCharacteristicNominals and all ids of external QIF
          documents. All other CharacteristicNominalKeys are similar.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:AngleBetweenCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngleCharacteristicItemToNominalKeyref"
      refer="AngleCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngleCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="AngleCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:AngleCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngleFromCharacteristicItemToNominalKeyref"
      refer="AngleFromCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngleFromCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="AngleFromCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:AngleFromCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngularCoordinateCharacteristicItemToNominalKeyref"
      refer="AngularCoordinateCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngularCoordinateCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="AngularCoordinateCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:AngularCoordinateCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngularityCharacteristicItemToNominalKeyref"
      refer="AngularityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngularityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="AngularityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:AngularityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ChordCharacteristicItemToNominalKeyref"
      refer="ChordCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ChordCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="ChordCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:ChordCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CircularityCharacteristicItemToNominalKeyref"
      refer="CircularityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CircularityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="CircularityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:CircularityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CircularRunoutCharacteristicItemToNominalKeyref"
      refer="CircularRunoutCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CircularRunoutCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="CircularRunoutCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:CircularRunoutCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CoaxialityCharacteristicItemToNominalKeyref"
      refer="CoaxialityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CoaxialityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="CoaxialityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:CoaxialityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConcentricityCharacteristicItemToNominalKeyref"
      refer="ConcentricityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ConcentricityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="ConcentricityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:ConcentricityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConicalTaperCharacteristicItemToNominalKeyref"
      refer="ConicalTaperCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ConicalTaperCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="ConicalTaperCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:ConicalTaperCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConicityCharacteristicItemToNominalKeyref"
      refer="ConicityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ConicityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="ConicityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:ConicityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CurveLengthCharacteristicItemToNominalKeyref"
      refer="CurveLengthCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CurveLengthCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="CurveLengthCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:CurveLengthCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CylindricityCharacteristicItemToNominalKeyref"
      refer="CylindricityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CylindricityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="CylindricityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:CylindricityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DepthCharacteristicItemToNominalKeyref"
      refer="DepthCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:DepthCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="DepthCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:DepthCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DiameterCharacteristicItemToNominalKeyref"
      refer="DiameterCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:DiameterCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="DiameterCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:DiameterCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DistanceBetweenCharacteristicItemToNominalKeyref"
      refer="DistanceBetweenCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:DistanceBetweenCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="DistanceBetweenCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:DistanceBetweenCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DistanceFromCharacteristicItemToNominalKeyref"
      refer="DistanceFromCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:DistanceFromCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="DistanceFromCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:DistanceFromCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EllipticityCharacteristicItemToNominalKeyref"
      refer="EllipticityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:EllipticityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="EllipticityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:EllipticityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FlatnessCharacteristicItemToNominalKeyref"
      refer="FlatnessCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:FlatnessCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="FlatnessCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:FlatnessCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FlatTaperCharacteristicItemToNominalKeyref"
      refer="FlatTaperCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:FlatTaperCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="FlatTaperCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:FlatTaperCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="HeightCharacteristicItemToNominalKeyref"
      refer="HeightCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:HeightCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="HeightCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:HeightCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LengthCharacteristicItemToNominalKeyref"
      refer="LengthCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:LengthCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="LengthCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:LengthCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LinearCoordinateCharacteristicItemToNominalKeyref"
      refer="LinearCoordinateCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:LinearCoordinateCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="LinearCoordinateCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:LinearCoordinateCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LineProfileCharacteristicItemToNominalKeyref"
      refer="LineProfileCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:LineProfileCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="LineProfileCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:LineProfileCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherFormCharacteristicItemToNominalKeyref"
      refer="OtherFormCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:OtherFormCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="OtherFormCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:OtherFormCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ParallelismCharacteristicItemToNominalKeyref"
      refer="ParallelismCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ParallelismCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="ParallelismCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:ParallelismCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PerpendicularityCharacteristicItemToNominalKeyref"
      refer="PerpendicularityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:PerpendicularityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="PerpendicularityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:PerpendicularityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PointProfileCharacteristicItemToNominalKeyref"
      refer="PointProfileCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:PointProfileCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="PointProfileCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:PointProfileCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PositionCharacteristicItemToNominalKeyref"
      refer="PositionCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:PositionCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="PositionCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:PositionCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="RadiusCharacteristicItemToNominalKeyref"
      refer="RadiusCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:RadiusCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="RadiusCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:RadiusCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericalDiameterCharacteristicItemToNominalKeyref"
      refer="SphericalDiameterCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SphericalDiameterCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="SphericalDiameterCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:SphericalDiameterCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericalRadiusCharacteristicItemToNominalKeyref"
      refer="SphericalRadiusCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SphericalRadiusCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="SphericalRadiusCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:SphericalRadiusCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericityCharacteristicItemToNominalKeyref"
      refer="SphericityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SphericityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="SphericityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:SphericityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SquareCharacteristicItemToNominalKeyref"
      refer="SquareCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SquareCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="SquareCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:SquareCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="StraightnessCharacteristicItemToNominalKeyref"
      refer="StraightnessCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:StraightnessCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="StraightnessCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:StraightnessCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceProfileCharacteristicItemToNominalKeyref"
      refer="SurfaceProfileCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SurfaceProfileCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="SurfaceProfileCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:SurfaceProfileCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceProfileNonUniformCharacteristicItemToNominalKeyref"
      refer="SurfaceProfileNonUniformCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SurfaceProfileNonUniformCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="SurfaceProfileNonUniformCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:SurfaceProfileNonUniformCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceTextureCharacteristicItemToNominalKeyref"
      refer="SurfaceTextureCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SurfaceTextureCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="SurfaceTextureCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:SurfaceTextureCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SymmetryCharacteristicItemToNominalKeyref"
      refer="SymmetryCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SymmetryCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="SymmetryCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:SymmetryCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ThicknessCharacteristicItemToNominalKeyref"
      refer="ThicknessCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ThicknessCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="ThicknessCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:ThicknessCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ThreadCharacteristicItemToNominalKeyref"
      refer="ThreadCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ThreadCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="ThreadCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:ThreadCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ToroidicityCharacteristicItemToNominalKeyref"
      refer="ToroidicityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ToroidicityCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="ToroidicityCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:ToroidicityCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="TotalRunoutCharacteristicItemToNominalKeyref"
      refer="TotalRunoutCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:TotalRunoutCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="TotalRunoutCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:TotalRunoutCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedAngularCharacteristicItemToNominalKeyref"
      refer="UserDefinedAngularCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedAngularCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedAngularCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedAngularCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedAreaCharacteristicItemToNominalKeyref"
      refer="UserDefinedAreaCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedAreaCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedAreaCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedAreaCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedAttributeCharacteristicItemToNominalKeyref"
      refer="UserDefinedAttributeCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedAttributeCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedAttributeCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedAttributeCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedForceCharacteristicItemToNominalKeyref"
      refer="UserDefinedForceCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedForceCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedForceCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedForceCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedLinearCharacteristicItemToNominalKeyref"
      refer="UserDefinedLinearCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedLinearCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedLinearCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedLinearCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedMassCharacteristicItemToNominalKeyref"
      refer="UserDefinedMassCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedMassCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedMassCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedMassCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedPressureCharacteristicItemToNominalKeyref"
      refer="UserDefinedPressureCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedPressureCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedPressureCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedPressureCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedSpeedCharacteristicItemToNominalKeyref"
      refer="UserDefinedSpeedCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedSpeedCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedSpeedCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedSpeedCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedTemperatureCharacteristicItemToNominalKeyref"
      refer="UserDefinedTemperatureCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedTemperatureCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedTemperatureCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedTemperatureCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedTimeCharacteristicItemToNominalKeyref"
      refer="UserDefinedTimeCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedTimeCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedTimeCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedTimeCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedUnitCharacteristicItemToNominalKeyref"
      refer="UserDefinedUnitCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedUnitCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="UserDefinedUnitCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:UserDefinedUnitCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldBevelCharacteristicItemToNominalKeyref"
      refer="WeldBevelCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldBevelCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldBevelCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldBevelCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldCompoundCharacteristicItemToNominalKeyref"
      refer="WeldCompoundCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldCompoundCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldCompoundCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldCompoundCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldEdgeCharacteristicItemToNominalKeyref"
      refer="WeldEdgeCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldEdgeCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldEdgeCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldEdgeCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldFilletCharacteristicItemToNominalKeyref"
      refer="WeldFilletCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldFilletCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldFilletCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldFilletCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldFlareBevelCharacteristicItemToNominalKeyref"
      refer="WeldFlareBevelCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldFlareBevelCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldFlareBevelCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldFlareBevelCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldFlareVCharacteristicItemToNominalKeyref"
      refer="WeldFlareVCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldFlareVCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldFlareVCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldFlareVCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldJCharacteristicItemToNominalKeyref"
      refer="WeldJCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldJCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldJCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldJCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldPlugCharacteristicItemToNominalKeyref"
      refer="WeldPlugCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldPlugCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldPlugCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldPlugCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldScarfCharacteristicItemToNominalKeyref"
      refer="WeldScarfCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldScarfCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldScarfCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldScarfCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSeamCharacteristicItemToNominalKeyref"
      refer="WeldSeamCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSeamCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldSeamCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldSeamCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSlotCharacteristicItemToNominalKeyref"
      refer="WeldSlotCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSlotCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldSlotCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldSlotCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSpotCharacteristicItemToNominalKeyref"
      refer="WeldSpotCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSpotCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldSpotCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldSpotCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSquareCharacteristicItemToNominalKeyref"
      refer="WeldSquareCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSquareCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldSquareCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldSquareCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldStudCharacteristicItemToNominalKeyref"
      refer="WeldStudCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldStudCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldStudCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldStudCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSurfacingCharacteristicItemToNominalKeyref"
      refer="WeldSurfacingCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSurfacingCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldSurfacingCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldSurfacingCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldUCharacteristicItemToNominalKeyref"
      refer="WeldUCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldUCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldUCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldUCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldVCharacteristicItemToNominalKeyref"
      refer="WeldVCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldVCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WeldVCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WeldVCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WidthCharacteristicItemToNominalKeyref"
      refer="WidthCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WidthCharacteristicItem"/>
      <xs:field xpath="t:CharacteristicNominalId"/>
    </xs:keyref>

    <xs:key name="WidthCharacteristicNominalKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals
              /t:WidthCharacteristicNominal
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

<!-- END ITEM TO NOMINAL KEYREFS FOR CHARACTERISTICS -->
<!-- START MEASUREMENT TO ITEM KEY/KEYREF PAIRS FOR CHARACTERISTICS -->

    <xs:keyref name="AngleBetweenCharacteristicMeasurementToItemKeyref"
      refer="AngleBetweenCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleBetweenCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="AngleBetweenCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngleBetweenCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngleCharacteristicMeasurementToItemKeyref"
      refer="AngleCharacteristicItemKey">
      <xs:annotation>
        <xs:documentation>
          The AngleCharacteristicMeasurementToItemKeyref requires that the
          CharacteristicItemId of an AngleCharacteristicMeasurement be the
          QIF id of an AngleCharacteristicItem or an external QIF document.
          All other CharacteristicMeasurementToItemKeyrefs are similar.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="AngleCharacteristicItemKey">
      <xs:annotation>
        <xs:documentation>
          The AngleCharacteristicItemKey collects all QIF ids of
          AngleCharacteristicItems and all ids of external QIF documents.
          All other CharacteristicItemKeys are similar.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngleCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngleFromCharacteristicMeasurementToItemKeyref"
      refer="AngleFromCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleFromCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="AngleFromCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngleFromCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngularCoordinateCharacteristicMeasurementToItemKeyref"
      refer="AngularCoordinateCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngularCoordinateCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="AngularCoordinateCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngularCoordinateCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngularityCharacteristicMeasurementToItemKeyref"
      refer="AngularityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngularityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="AngularityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:AngularityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ChordCharacteristicMeasurementToItemKeyref"
      refer="ChordCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ChordCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="ChordCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ChordCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CircularityCharacteristicMeasurementToItemKeyref"
      refer="CircularityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CircularityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="CircularityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CircularityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CircularRunoutCharacteristicMeasurementToItemKeyref"
      refer="CircularRunoutCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CircularRunoutCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="CircularRunoutCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CircularRunoutCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CoaxialityCharacteristicMeasurementToItemKeyref"
      refer="CoaxialityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CoaxialityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="CoaxialityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CoaxialityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConcentricityCharacteristicMeasurementToItemKeyref"
      refer="ConcentricityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConcentricityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="ConcentricityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ConcentricityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConicalTaperCharacteristicMeasurementToItemKeyref"
      refer="ConicalTaperCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConicalTaperCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="ConicalTaperCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ConicalTaperCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConicityCharacteristicMeasurementToItemKeyref"
      refer="ConicityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConicityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="ConicityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ConicityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LinearCoordinateCharacteristicMeasurementToItemKeyref"
      refer="LinearCoordinateCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LinearCoordinateCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="LinearCoordinateCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:LinearCoordinateCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CurveLengthCharacteristicMeasurementToItemKeyref"
      refer="CurveLengthCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CurveLengthCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="CurveLengthCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CurveLengthCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CylindricityCharacteristicMeasurementToItemKeyref"
      refer="CylindricityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CylindricityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="CylindricityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:CylindricityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DepthCharacteristicMeasurementToItemKeyref"
      refer="DepthCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DepthCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="DepthCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:DepthCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DiameterCharacteristicMeasurementToItemKeyref"
      refer="DiameterCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DiameterCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="DiameterCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:DiameterCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DistanceBetweenCharacteristicMeasurementToItemKeyref"
      refer="DistanceBetweenCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DistanceBetweenCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="DistanceBetweenCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:DistanceBetweenCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DistanceFromCharacteristicMeasurementToItemKeyref"
      refer="DistanceFromCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DistanceFromCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="DistanceFromCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:DistanceFromCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EllipticityCharacteristicMeasurementToItemKeyref"
      refer="EllipticityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:EllipticityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="EllipticityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:EllipticityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FlatTaperCharacteristicMeasurementToItemKeyref"
      refer="FlatTaperCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:FlatTaperCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="FlatTaperCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:FlatTaperCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FlatnessCharacteristicMeasurementToItemKeyref"
      refer="FlatnessCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:FlatnessCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="FlatnessCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:FlatnessCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="HeightCharacteristicMeasurementToItemKeyref"
      refer="HeightCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:HeightCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="HeightCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:HeightCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LengthCharacteristicMeasurementToItemKeyref"
      refer="LengthCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LengthCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="LengthCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:LengthCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LineProfileCharacteristicMeasurementToItemKeyref"
      refer="LineProfileCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LineProfileCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="LineProfileCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:LineProfileCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherFormCharacteristicMeasurementToItemKeyref"
      refer="OtherFormCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:OtherFormCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="OtherFormCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:OtherFormCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ParallelismCharacteristicMeasurementToItemKeyref"
      refer="ParallelismCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ParallelismCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="ParallelismCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ParallelismCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PerpendicularityCharacteristicMeasurementToItemKeyref"
      refer="PerpendicularityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PerpendicularityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="PerpendicularityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:PerpendicularityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PointProfileCharacteristicMeasurementToItemKeyref"
      refer="PointProfileCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PointProfileCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="PointProfileCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:PointProfileCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PositionCharacteristicMeasurementToItemKeyref"
      refer="PositionCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PositionCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="PositionCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:PositionCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="RadiusCharacteristicMeasurementToItemKeyref"
      refer="RadiusCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:RadiusCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="RadiusCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:RadiusCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericalDiameterCharacteristicMeasurementToItemKeyref"
      refer="SphericalDiameterCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SphericalDiameterCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="SphericalDiameterCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SphericalDiameterCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericalRadiusCharacteristicMeasurementToItemKeyref"
      refer="SphericalRadiusCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SphericalRadiusCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="SphericalRadiusCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SphericalRadiusCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericityCharacteristicMeasurementToItemKeyref"
      refer="SphericityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SphericityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="SphericityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SphericityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SquareCharacteristicMeasurementToItemKeyref"
      refer="SquareCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SquareCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="SquareCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SquareCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="StraightnessCharacteristicMeasurementToItemKeyref"
      refer="StraightnessCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:StraightnessCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="StraightnessCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:StraightnessCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceProfileCharacteristicMeasurementToItemKeyref"
      refer="SurfaceProfileCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceProfileCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="SurfaceProfileCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SurfaceProfileCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceProfileNonUniformCharacteristicMeasurementToItemKeyref"
      refer="SurfaceProfileNonUniformCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceProfileNonUniformCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="SurfaceProfileNonUniformCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SurfaceProfileNonUniformCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceTextureCharacteristicMeasurementToItemKeyref"
      refer="SurfaceTextureCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceTextureCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="SurfaceTextureCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SurfaceTextureCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SymmetryCharacteristicMeasurementToItemKeyref"
      refer="SymmetryCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SymmetryCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="SymmetryCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:SymmetryCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ThicknessCharacteristicMeasurementToItemKeyref"
      refer="ThicknessCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ThicknessCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="ThicknessCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ThicknessCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ThreadCharacteristicMeasurementToItemKeyref"
      refer="ThreadCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ThreadCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="ThreadCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ThreadCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ToroidicityCharacteristicMeasurementToItemKeyref"
      refer="ToroidicityCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ToroidicityCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="ToroidicityCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:ToroidicityCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="TotalRunoutCharacteristicMeasurementToItemKeyref"
      refer="TotalRunoutCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:TotalRunoutCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="TotalRunoutCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:TotalRunoutCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedAttributeCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedAttributeCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedAttributeCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedAttributeCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedAttributeCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedUnitCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedUnitCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedUnitCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedUnitCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedUnitCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedLinearCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedLinearCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedLinearCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedLinearCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedLinearCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedAngularCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedAngularCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedAngularCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedAngularCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedAngularCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedTemperatureCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedTemperatureCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedTemperatureCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedTemperatureCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedTemperatureCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedAreaCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedAreaCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedAreaCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedAreaCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedAreaCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedForceCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedForceCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedForceCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedForceCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedForceCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedMassCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedMassCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedMassCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedMassCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedMassCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedPressureCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedPressureCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedPressureCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedPressureCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedPressureCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedSpeedCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedSpeedCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedSpeedCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedSpeedCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedSpeedCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedTimeCharacteristicMeasurementToItemKeyref"
      refer="UserDefinedTimeCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedTimeCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="UserDefinedTimeCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:UserDefinedTimeCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WidthCharacteristicMeasurementToItemKeyref"
      refer="WidthCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WidthCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WidthCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WidthCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldFilletCharacteristicMeasurementToItemKeyref"
      refer="WeldFilletCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldFilletCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldFilletCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldFilletCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldPlugCharacteristicMeasurementToItemKeyref"
      refer="WeldPlugCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldPlugCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldPlugCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldPlugCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSlotCharacteristicMeasurementToItemKeyref"
      refer="WeldSlotCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldSlotCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldSlotCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSlotCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSpotCharacteristicMeasurementToItemKeyref"
      refer="WeldSpotCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldSpotCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldSpotCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSpotCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldStudCharacteristicMeasurementToItemKeyref"
      refer="WeldStudCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldStudCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldStudCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldStudCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSeamCharacteristicMeasurementToItemKeyref"
      refer="WeldSeamCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldSeamCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldSeamCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSeamCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSurfacingCharacteristicMeasurementToItemKeyref"
      refer="WeldSurfacingCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldSurfacingCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldSurfacingCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSurfacingCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldEdgeCharacteristicMeasurementToItemKeyref"
      refer="WeldEdgeCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldEdgeCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldEdgeCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldEdgeCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldSquareCharacteristicMeasurementToItemKeyref"
      refer="WeldSquareCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldSquareCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldSquareCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldSquareCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldBevelCharacteristicMeasurementToItemKeyref"
      refer="WeldBevelCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldBevelCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldBevelCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldBevelCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldVCharacteristicMeasurementToItemKeyref"
      refer="WeldVCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldVCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldVCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldVCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldUCharacteristicMeasurementToItemKeyref"
      refer="WeldUCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldUCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldUCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldUCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldJCharacteristicMeasurementToItemKeyref"
      refer="WeldJCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldJCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldJCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldJCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldFlareVCharacteristicMeasurementToItemKeyref"
      refer="WeldFlareVCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldFlareVCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldFlareVCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldFlareVCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldFlareBevelCharacteristicMeasurementToItemKeyref"
      refer="WeldFlareBevelCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldFlareBevelCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldFlareBevelCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldFlareBevelCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldScarfCharacteristicMeasurementToItemKeyref"
      refer="WeldScarfCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldScarfCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldScarfCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldScarfCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WeldCompoundCharacteristicMeasurementToItemKeyref"
      refer="WeldCompoundCharacteristicItemKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WeldCompoundCharacteristicMeasurement"/>
      <xs:field xpath="t:CharacteristicItemId"/>
    </xs:keyref>

    <xs:key name="WeldCompoundCharacteristicItemKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicItems
              /t:WeldCompoundCharacteristicItem
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

<!-- END MEASUREMENT TO ITEM KEY/KEYREF PAIRS FOR CHARACTERISTICS -->
<!-- START STATSEVAL TO ACTUAL KEY/KEYREF PAIRS FOR CHARACTERISTICS -->

    <xs:key name="AngleBetweenCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleBetweenCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngleBetweenCharacteristicMeasurementKeyref"
      refer="AngleBetweenCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngleBetweenCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngleBetweenCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="AngleCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngleCharacteristicMeasurementKeyref"
      refer="AngleCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngleCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngleCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="AngleFromCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleFromCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngleFromCharacteristicMeasurementKeyref"
      refer="AngleFromCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngleFromCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngleFromCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="AngularCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngularCoordinateCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleFromCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleBetweenCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngularCharacteristicMeasurementKeyref"
      refer="AngularCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngularCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngularCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="AngularCoordinateCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngularCoordinateCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngularCoordinateCharacteristicMeasurementKeyref"
      refer="AngularCoordinateCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:AngularCoordinateCharacteristicStats/t:MeasurementIds
              /t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:AngularCoordinateCharacteristicStats/t:Subgroup
              /t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="AngularityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngularityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AngularityCharacteristicMeasurementKeyref"
      refer="AngularityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngularityCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:AngularityCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="ChordCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ChordCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ChordCharacteristicMeasurementKeyref"
      refer="ChordCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ChordCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ChordCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="CircularRunoutCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CircularRunoutCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CircularRunoutCharacteristicMeasurementKeyref"
      refer="CircularRunoutCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CircularRunoutCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CircularRunoutCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="CircularityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CircularityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CircularityCharacteristicMeasurementKeyref"
      refer="CircularityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CircularityCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CircularityCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="CoaxialityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CoaxialityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CoaxialityCharacteristicMeasurementKeyref"
      refer="CoaxialityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CoaxialityCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CoaxialityCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="ConcentricityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConcentricityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConcentricityCharacteristicMeasurementKeyref"
      refer="ConcentricityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ConcentricityCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ConcentricityCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="ConicalTaperCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConicalTaperCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConicalTaperCharacteristicMeasurementKeyref"
      refer="ConicalTaperCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ConicalTaperCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ConicalTaperCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="ConicityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConicityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ConicityCharacteristicMeasurementKeyref"
      refer="ConicityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ConicityCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ConicityCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="CurveLengthCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CurveLengthCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CurveLengthCharacteristicMeasurementKeyref"
      refer="CurveLengthCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CurveLengthCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CurveLengthCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="CylindricityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CylindricityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CylindricityCharacteristicMeasurementKeyref"
      refer="CylindricityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CylindricityCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:CylindricityCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="DepthCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DepthCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DepthCharacteristicMeasurementKeyref"
      refer="DepthCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:DepthCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:DepthCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="DiameterCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DiameterCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DiameterCharacteristicMeasurementKeyref"
      refer="DiameterCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:DiameterCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:DiameterCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="DistanceBetweenCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DistanceBetweenCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DistanceBetweenCharacteristicMeasurementKeyref"
      refer="DistanceBetweenCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:DistanceBetweenCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:DistanceBetweenCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="DistanceFromCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DistanceFromCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DistanceFromCharacteristicMeasurementKeyref"
      refer="DistanceFromCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:DistanceFromCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:DistanceFromCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="EllipticityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:EllipticityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="EllipticityCharacteristicMeasurementKeyref"
      refer="EllipticityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:EllipticityCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:EllipticityCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="FlatTaperCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:FlatTaperCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FlatTaperCharacteristicMeasurementKeyref"
      refer="FlatTaperCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:FlatTaperCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:FlatTaperCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="FlatnessCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:FlatnessCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="FlatnessCharacteristicMeasurementKeyref"
      refer="FlatnessCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:FlatnessCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:FlatnessCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="GeometricCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PositionCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleFromCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngleBetweenCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngularCoordinateCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CoaxialityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConcentricityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SymmetryCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngularityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PerpendicularityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ParallelismCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:StraightnessCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:FlatnessCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CircularityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CylindricityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConicityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SphericityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ToroidicityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:OtherFormCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CircularRunoutCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:TotalRunoutCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LineProfileCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PointProfileCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceProfileCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceProfileNonUniformCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="GeometricCharacteristicMeasurementKeyref"
      refer="GeometricCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:GeometricCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:GeometricCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="HeightCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:HeightCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="HeightCharacteristicMeasurementKeyref"
      refer="HeightCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:HeightCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:HeightCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="LengthCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LengthCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LengthCharacteristicMeasurementKeyref"
      refer="LengthCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:LengthCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:LengthCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="LinearCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LinearCoordinateCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CurveLengthCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DiameterCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SphericalDiameterCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LengthCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WidthCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:HeightCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DepthCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SquareCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DistanceFromCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:DistanceBetweenCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:RadiusCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SphericalRadiusCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ChordCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConicalTaperCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:FlatTaperCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LinearCharacteristicMeasurementKeyref"
      refer="LinearCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:LinearCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:LinearCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="LineProfileCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LineProfileCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LineProfileCharacteristicMeasurementKeyref"
      refer="LineProfileCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:LineProfileCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:LineProfileCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="LinearCoordinateCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LinearCoordinateCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LinearCoordinateCharacteristicMeasurementKeyref"
      refer="LinearCoordinateCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:LinearCoordinateCharacteristicStats/t:MeasurementIds
              /t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:LinearCoordinateCharacteristicStats/t:Subgroup
              /t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="LocationCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PositionCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:CoaxialityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ConcentricityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SymmetryCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="LocationCharacteristicMeasurementKeyref"
      refer="LocationCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:LocationCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:LocationCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="OrientationCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:AngularityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PerpendicularityCharacteristicMeasurement
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ParallelismCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OrientationCharacteristicMeasurementKeyref"
      refer="OrientationCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:OrientationCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:OrientationCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="OtherFormCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:OtherFormCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="OtherFormCharacteristicMeasurementKeyref"
      refer="OtherFormCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:OtherFormCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:OtherFormCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="ParallelismCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ParallelismCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ParallelismCharacteristicMeasurementKeyref"
      refer="ParallelismCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ParallelismCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ParallelismCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="PerpendicularityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PerpendicularityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PerpendicularityCharacteristicMeasurementKeyref"
      refer="PerpendicularityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:PerpendicularityCharacteristicStats/t:MeasurementIds
              /t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:PerpendicularityCharacteristicStats/t:Subgroup
              /t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="PointProfileCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PointProfileCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PointProfileCharacteristicMeasurementKeyref"
      refer="PointProfileCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:PointProfileCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:PointProfileCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="PositionCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PositionCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="PositionCharacteristicMeasurementKeyref"
      refer="PositionCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:PositionCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:PositionCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="RadiusCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:RadiusCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="RadiusCharacteristicMeasurementKeyref"
      refer="RadiusCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:RadiusCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:RadiusCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="SphericalDiameterCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SphericalDiameterCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericalDiameterCharacteristicMeasurementKeyref"
      refer="SphericalDiameterCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:SphericalDiameterCharacteristicStats/t:MeasurementIds
              /t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:SphericalDiameterCharacteristicStats/t:Subgroup
              /t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="SphericalRadiusCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SphericalRadiusCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericalRadiusCharacteristicMeasurementKeyref"
      refer="SphericalRadiusCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SphericalRadiusCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SphericalRadiusCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="SphericityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SphericityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SphericityCharacteristicMeasurementKeyref"
      refer="SphericityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SphericityCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SphericityCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="SquareCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SquareCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SquareCharacteristicMeasurementKeyref"
      refer="SquareCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SquareCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SquareCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="StraightnessCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:StraightnessCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="StraightnessCharacteristicMeasurementKeyref"
      refer="StraightnessCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:StraightnessCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:StraightnessCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="SurfaceProfileCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceProfileCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceProfileCharacteristicMeasurementKeyref"
      refer="SurfaceProfileCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SurfaceProfileCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SurfaceProfileCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="SurfaceProfileNonUniformCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceProfileNonUniformCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceProfileNonUniformCharacteristicMeasurementKeyref"
      refer="SurfaceProfileNonUniformCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:SurfaceProfileNonUniformCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:SurfaceProfileNonUniformCharacteristicStats/t:Subgroup
              /t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="SurfaceTextureCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceTextureCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SurfaceTextureCharacteristicMeasurementKeyref"
      refer="SurfaceTextureCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SurfaceTextureCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SurfaceTextureCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="SymmetryCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SymmetryCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="SymmetryCharacteristicMeasurementKeyref"
      refer="SymmetryCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SymmetryCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SymmetryCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="ThicknessCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ThicknessCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ThicknessCharacteristicMeasurementKeyref"
      refer="ThicknessCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ThicknessCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ThicknessCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="ThreadCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ThreadCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ThreadCharacteristicMeasurementKeyref"
      refer="ThreadCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ThreadCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ThreadCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="ToroidicityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:ToroidicityCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="ToroidicityCharacteristicMeasurementKeyref"
      refer="ToroidicityCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ToroidicityCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:ToroidicityCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="TotalRunoutCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:TotalRunoutCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="TotalRunoutCharacteristicMeasurementKeyref"
      refer="TotalRunoutCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:TotalRunoutCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:TotalRunoutCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="UserDefinedAttributeCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedAttributeCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedAttributeCharacteristicMeasurementKeyref"
      refer="UserDefinedAttributeCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:UserDefinedAttributeCharacteristicStats/t:MeasurementIds
              /t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:UserDefinedAttributeCharacteristicStats/t:Subgroup
              /t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="UserDefinedUnitCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:UserDefinedUnitCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="UserDefinedUnitCharacteristicMeasurementKeyref"
      refer="UserDefinedUnitCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:UserDefinedUnitCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:UserDefinedUnitCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:key name="WidthCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:WidthCharacteristicMeasurement
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="WidthCharacteristicMeasurementKeyref"
      refer="WidthCharacteristicMeasurementKey">
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:WidthCharacteristicStats
              /t:MeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:WidthCharacteristicStats
              /t:Subgroup/t:MeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- END STATSEVAL TO ACTUAL KEY/KEYREF PAIRS FOR CHARACTERISTICS -->
<!-- START MEASUREMENT TO NOMINAL KEY/KEYREF PAIR FOR MEASURE POINT -->

    <xs:key name="MeasurePointNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The MeasurePointNominalKey collects all QIF ids of
          MeasurePointNominals.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Features/t:FeatureNominals/t:*/t:PointList/t:MeasurePoint"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="MeasurePointToNominalKeyref"
      refer="MeasurePointNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The MeasurePointToNominalKeyref requires that the
          MeasurePointNominalId of a MeasurePoint be the QIF id of
          a MeasurePointNominal.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:*/t:PointList/t:MeasurePoint"/>
      <xs:field xpath="t:MeasurePointNominalId"/>
    </xs:keyref>

<!-- END MEASUREMENT TO NOMINAL KEY/KEYREF PAIR FOR MEASURE POINT -->
<!-- START KEY/KEYREF PAIRS FOR DEFAULT TOLERANCES -->

    <xs:keyref name="DefaultAngularToleranceKeyref"
      refer="DefaultAngularToleranceKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicDefinitions
              /t:AngleBetweenCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:AngleCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:AngleFromCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:AngularCoordinateCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:UserDefinedAngularCharacteristicDefinition/t:Tolerance"/>
      <xs:field xpath="t:DefinitionId"/>
    </xs:keyref>

    <xs:key name="DefaultAngularToleranceKey">
      <xs:selector
        xpath="t:Characteristics/t:DefaultToleranceDefinitions
              /t:AngularTolerance
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="DefaultLinearToleranceKeyref"
      refer="DefaultLinearToleranceKey">
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicDefinitions
              /t:ChordCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:CurveLengthCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:DepthCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:DiameterCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:SphericalDiameterCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:DistanceBetweenCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:DistanceFromCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:HeightCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:LengthCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:LinearCoordinateCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:RadiusCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:SquareCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:ThicknessCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:UserDefinedLinearCharacteristicDefinition/t:Tolerance
             | t:Characteristics/t:CharacteristicDefinitions
              /t:WidthCharacteristicDefinition/t:Tolerance"/>
      <xs:field xpath="t:DefinitionId"/>
    </xs:keyref>

    <xs:key name="DefaultLinearToleranceKey">
      <xs:selector
        xpath="t:Characteristics/t:DefaultToleranceDefinitions
              /t:LinearTolerance
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

<!-- END KEY/KEYREF PAIRS FOR DEFAULT TOLERANCES -->
<!-- START KEY AND TWO KEYREFS FOR ACTUAL MEASURE POINT -->

    <xs:key name="MeasurePointIdKey">
      <xs:annotation>
        <xs:documentation>
          The MeasurePointKey collects all QIF ids of
          MeasurePoints.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredFeatures/t:*/t:PointList/t:MeasurePoint
             | t:ExternalQIFReferences/t:ExternalQIFDocument"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CharacteristicToMeasurePointKeyref"
      refer="MeasurePointIdKey">
      <xs:annotation>
        <xs:documentation>
          The CharacteristicToMeasurePointKeyref requires that the
          MeasurePointId of a PointDeviation referenced in
          CharacteristicMeasurements be the QIF id of a MeasurePoint. This
          applies only to profile characteristics.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:LineProfileCharacteristicMeasurement/t:PointDeviations
              /t:PointDeviation
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:PointProfileCharacteristicMeasurement/t:PointDeviations
              /t:PointDeviation
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceProfileCharacteristicMeasurement/t:PointDeviations
              /t:PointDeviation
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:MeasuredCharacteristics/t:CharacteristicMeasurements
              /t:SurfaceProfileNonUniformCharacteristicMeasurement
              /t:PointDeviations/t:PointDeviation"/>
      <xs:field xpath="t:MeasurePointId"/>
    </xs:keyref>

    <xs:keyref name="StatisticsCharacteristicToMeasurePointKeyref"
      refer="MeasurePointIdKey">
      <xs:annotation>
        <xs:documentation>
          The StatisticsCharacteristicToMeasurePointKeyref requires
          that the MeasurePointId of a PointDeviation referenced in
          CharacteristicsStats be the QIF id of a MeasurePoint. This
          applies only to profile characteristics.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:LineProfileCharacteristicStats
              /t:PointDeviationsStats/t:PointDeviationStats
              /t:MeasurePointMeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:PointProfileCharacteristicStats
              /t:PointDeviationsStats/t:PointDeviationStats
              /t:MeasurePointMeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats/t:SurfaceProfileCharacteristicStats
              /t:PointDeviationsStats/t:PointDeviationStats
              /t:MeasurePointMeasurementIds/t:Ids/t:Id
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:CharacteristicsStats
              /t:SurfaceProfileNonUniformCharacteristicStats
              /t:PointDeviationsStats/t:PointDeviationStats
              /t:MeasurePointMeasurementIds/t:Ids/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- END KEY AND TWO KEYREFS FOR ACTUAL MEASURE POINT -->
<!-- START KEYREF FOR CHARACTERISTIC NOMINALS -->

    <xs:keyref name="CharacteristicNominalIdKeyref"
      refer="CharacteristicNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The CharacteristicNominalIdKeyref requires that an Id in a set of
          CharacteristicNominalIds in a part or assembly be the id of a
          CharacteristicNominal.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:PartSet/t:Part/t:CharacteristicNominalIds/t:Id
             | t:Product/t:AssemblySet/t:Assembly
              /t:CharacteristicNominalIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- END KEYREF FOR CHARACTERISTIC NOMINALS -->
<!-- START KEY/KEYREF PAIR FOR IDS OF INTERNAL CAD COORDINATE SYSTEMS -->

    <xs:key name="CADCoordinateSystemInternalIdKey">
      <xs:annotation>
        <xs:documentation>
          The CADCoordinateSystemInternalIdKey collects the ids of all
          internal CAD coordinate systems.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:CoordinateSystemSet/t:CoordinateSystem"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="CADCoordinateSystemInternalIdKeyref"
      refer="CADCoordinateSystemInternalIdKey">
      <xs:annotation>
        <xs:documentation>
          The CADCoordinateSystemInternalIdKeyref requires that the
          InternalCADCoordinateSystemId of an instance of
          CoordinateSystemType be the id of a CAD coordinate system.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:CoordinateSystems/t:CoordinateSystemDefinitions
              /t:CoordinateSystem"/>
      <xs:field xpath="InternalCADCoordinateSystemId"/>
    </xs:keyref>

<!-- END KEY/KEYREF PAIR FOR IDS OF INTERNAL CAD COORDINATE SYSTEMS -->
<!-- START KEY/KEYREF FOR ANNOTATION IDS OF SAVED VIEW -->

    <xs:key name="AnnotationIdKey">
      <xs:annotation>
        <xs:documentation>
          The AnnotationIdKey collects the QIF ids of all characteristic
          nominals, notes, flag notes, datum definitions and datum
          target definitions.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Characteristics/t:CharacteristicNominals/t:*
             | t:Product/t:NoteSet/t:*
             | t:Product/t:NoteFlagSet/t:*
             | t:DatumDefinitions/t:*
             | t:DatumTargetDefinitions/t:*"/>
      <xs:field xpath="@id"/>
    </xs:key>

    <xs:keyref name="AnnotationIdKeyref"
      refer="AnnotationIdKey">
      <xs:annotation>
        <xs:documentation>
          The AnnotationIdKeyref requires that annotations whose ids are
          specified in AnnotationVisibleIds, AnnotationHiddenIds and
          PMIDisplay be present in AnnotationIdKey.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:ViewSet/t:SavedViewSet/t:SavedView
              /t:AnnotationVisibleIds/t:Id
             | t:Product/t:ViewSet/t:SavedViewSet/t:SavedView
              /t:AnnotationHiddenIds/t:Id
             | t:Product/t:VisualizationSet/t:PMIDisplaySet/t:PMIDisplay
              /t:Reference/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:keyref name="DimensionalCharacteristicNominalIdKeyref"
      refer="DimensionalCharacteristicNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The DimensionalCharacteristicNominalIdKeyref requires that
          characteristics whose ids are specified in
          DimensionalCharacteristicIds be present in the
          DimensionalCharacteristicNominalIdKey.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:VisualizationSet/t:TrailingZeroDisplay
              /t:TrailingZeroDimensionalCharacteristicDisplayGroups
              /t:TrailingZeroDimensionalCharacteristicDisplayGroup
              /t:DimensionalCharacteristicIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

    <xs:keyref name="GeometricCharacteristicNominalIdKeyref"
      refer="GeometricCharacteristicNominalIdKey">
      <xs:annotation>
        <xs:documentation>
          The GeometricCharacteristicNominalIdKeyref requires that
          characteristics whose ids are specified in
          GeometricCharacteristicIds be present in the
          GeometricCharacteristicNominalIdKey.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:Product/t:VisualizationSet/t:TrailingZeroDisplay
              /t:TrailingZeroGeometricCharacteristicDisplayGroups
              /t:TrailingZeroGeometricCharacteristicDisplayGroup
              /t:GeometricCharacteristicIds/t:Id"/>
      <xs:field xpath="."/>
    </xs:keyref>

<!-- START UNREFERENCED KEYS -->

    <xs:key name="QPIdKey">
      <xs:annotation>
        <xs:documentation>
          The QPIdKey collects all QPIds located anywhere in the document
          and requires that they be unique. There is no keyref for QPIds
          since referenced QPIds are expected usually to be in other files.
          QPIds in other instance files must also be different from QPIds
          in this file, but it is not possible check that using a key.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:QPId
             | t:Attributes/t:AttributeQPId/t:Value
             | t:Characteristics/t:CharacteristicDefinitions/t:*
              /t:Attributes/t:AttributeQPId/t:Value
             | t:Characteristics/t:CharacteristicNominals/t:*/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Characteristics/t:CharacteristicItems/t:*/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Features/t:FeatureDefinitions/t:*/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Features/t:FeatureNominals/t:*/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Features/t:FeatureItems/t:*/t:Attributes/t:AttributeQPId
              /t:Value
             | t:ManufacturingProcessTraceabilities
              /t:ManufacturingProcessTraceability/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Plan/t:Version/t:ThisInstanceQPId
             | t:Plan/t:WorkInstructions/t:*/t:Attributes/t:AttributeQPId
              /t:Value
             | t:Plan/t:Measurands/t:*/t:Attributes/t:AttributeQPId/t:Value
             | t:MeasurementResources/t:Version/t:ThisInstanceQPId
             | t:MeasurementResources/t:Fixtures/t:Fixture/t:Attributes
              /t:AttributeQPId/t:Value
             | t:MeasurementResources/t:MeasurementDevices/t:*/t:Attributes
              /t:AttributeQPId/t:Value
             | t:MeasurementResources/t:DetachableSensors/t:*/t:Attributes
              /t:AttributeQPId/t:Value
             | t:MeasurementResources/t:Tools/t:*/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Results/t:Version/t:ThisInstanceQPId
             | t:Results/t:MeasurementResultsSet/t:MeasurementResults
              /t:Attributes/t:AttributeQPId/t:Value
             | t:Results/t:ActualComponentSets/t:ActualComponentSet
              /t:ActualComponent/t:Attributes/t:AttributeQPId/t:Value
             | t:Results/t:InspectionTraceability/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Results/t:InspectionTraceability/t:InspectingOrganization
              /t:Attributes/t:AttributeQPId/t:Value
             | t:Results/t:InspectionTraceability/t:CustomerOrganization
              /t:Attributes/t:AttributeQPId/t:Value
             | t:Product/t:Header/t:File/t:Version/t:ThisInstanceQPId
             | t:Product/t:AssemblySet/t:Assembly/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Product/t:AssemblySet/t:Assembly/t:Header/t:File/t:Version
              /t:ThisInstanceQPId
             | t:Product/t:ComponentSet/t:Component/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Product/t:PartSet/t:Part/t:Attributes/t:AttributeQPId
              /t:Value
             | t:Product/t:PartSet/t:Part/t:Header/t:File/t:Version
              /t:ThisInstanceQPId
             | t:Rules/t:Version/t:ThisInstanceQPId
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:Version
              /t:ThisInstanceQPId
             | t:Statistics/t:StatisticalStudyPlans/t:*/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Statistics/t:StatisticalStudiesResults/t:*/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Statistics/t:StatisticalStudiesResults/t:*
              /t:ThisStatisticalStudyResultsInstanceQPId
             | t:Statistics/t:CorrectiveActionPlans/t:CorrectiveActionPlan
              /t:Version/t:ThisInstanceQPId
             | t:Statistics/t:CorrectiveActionPlans/t:CorrectiveActionPlan
              /t:Attributes/t:AttributeQPId/t:Value
             | t:Statistics/t:CorrectiveActionPlans/t:CorrectiveActionPlan
              /t:CorrectiveActions/t:CorrectiveAction/t:Attributes
              /t:AttributeQPId/t:Value
             | t:Statistics/t:CorrectiveActionPlans/t:CorrectiveActionPlan
              /t:AssignableCauses/t:AssignableCause/t:Attributes
              /t:AttributeQPId/t:Value"/>
      <xs:field xpath="."/>
    </xs:key>

    <xs:key name="LocationIdKey">
      <xs:annotation>
        <xs:documentation>
          The LocationIdKey collects the QIF ids of all Locations located
          in MeasurementResources or InspectionTraceability.
        </xs:documentation>
      </xs:annotation>
      <xs:selector
        xpath="t:PreInspectionTraceability/t:PlantLocation
             | t:MeasurementResources/t:*/t:*/t:Location"/>
      <xs:field xpath="@id"/>
    </xs:key>
  </xs:element>

<!-- END UNREFERENCED KEYS -->

  <xs:complexType name="QIFDocumentType">
    <xs:annotation>
      <xs:documentation>
        The QIFDocumentType defines a QIF document.
      </xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="QPId"
        type="QPIdType">
        <xs:annotation>
          <xs:documentation>
            The required QPId element is the UUID for this document
            identifying it uniquely and allowing it and its elements to be
            referenced from other QIF documents.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Attributes"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Attributes element contains user defined
            attributes (typified, binary array, or XML structured).
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="VersionHistory"
        type="VersionHistoryType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional VersionHistory element gives information about
            earlier versions of the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="Version"
        type="VersionBaseType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Version element gives version information about the
            QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Header"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Header element contains information about the
            creation of this QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="ValidationCounts"
        type="ValidationCountsType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional ValidationCounts element contains redundancy
            checks in the form of counts of items in the significant lists
            contained within a QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="ProductDataQuality"
        type="ProductDataQualityType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional ProductDataQuality element contains information
            about any product data quality checks performed on this QIF
            document or the data contained within it.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="ExternalQIFReferences"
        type="ExternalQIFReferencesType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional ExternalQIFReferences element contains information
            about QIF documents referenced by this document using the
            external id referencing mechanism in the QIFReferenceType.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="StandardsDefinitions"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional StandardsDefinitions element contains information
            about standards and specifications.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="SoftwareDefinitions"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional SoftwareDefinitions element contains information
            about software applications.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="AlgorithmDefinitions"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional SoftwareDefinitions element contains information
            about algorithms.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="PreInspectionTraceability"
        type="PreInspectionTraceabilityType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional PreInspectionTraceability element gives
            traceability information that applies to the entire QIF
            document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="FileUnits"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional FileUnits element gives information about the
            units used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="DatumDefinitions"
        type="DatumDefinitionsType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional DatumDefinitions element gives information about
            the datum definitions to be used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="DatumTargetDefinitions"
        type="DatumTargetDefinitionsType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional DatumTargetDefinitions element gives information
            about the datum targets to be used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Transforms"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Transforms element gives information about the
            transforms to be used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="CoordinateSystems"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional CoordinateSystems element gives information about
            the coordinate systems to be used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="DatumReferenceFrames"
        type="DatumReferenceFramesType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional DatumReferenceFrames element gives information
            about the datum reference frames to be used in the
            QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="MeasurementResources"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional MeasurementResources element gives information
            about the measurement resources used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="ThreadSpecifications"
        type="ThreadSpecificationsType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional ThreadSpecifications element gives information
            about the thread specifications used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Product"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Product element gives information about the parts
            and assemblies used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Features"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Features element gives information about the
            features used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="FeatureZones"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional FeatureZones element gives information about the
            feature zones used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Characteristics"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Characteristics element gives information about
            the characteristics used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Plan"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Plan element gives information about
            the measurement plan used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Results"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Results element gives information
            about the measurement results used in the QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Statistics"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Statistics element gives information about
            statistical plans and the statistical results in the QIF
            document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="ManufacturingProcessTraceabilities"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional ManufacturingProcessTraceabilities element gives
            traceability information about the manufacturing process or
            processes used.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element ref="Rules"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Rules element gives information about rules
            in the QIF document for selecting on a per-feature basis
            any or all of (1) the quantity of hit points to use,
            (2) the strategy to use for locating hit points, and
            (3) the substitute feature algorithm to use.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="UserDataXML"
        type="UserDataXMLType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The UserDataXML element defines a user-defined XML structure
            from any namespace that is not the target namespace. The XML
            processor will validate elements if the corresponding schema
            will be presented. If the schema cannot be obtained, no errors
            will occur.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="Signature"
        type="ds:SignatureType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The Signature element is as defined in the XML-Signature
            Syntax and Processing W3C Recommendation 12 February 2002.
            http://www.w3.org/TR/2002/REC-xmldsig-core-20020212
          </xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="versionQIF"
      type="xs:NMTOKEN"
      fixed="3.0.0"
      use="required"/>
    <xs:attribute name="idMax"
      type="xs:unsignedInt"
      use="required">
      <xs:annotation>
        <xs:documentation>
          The required idMax attribute specifies the largest Id used in the
          document.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>

  <xs:complexType name="QIFDocumentHeaderType">
    <xs:annotation>
      <xs:documentation>
        The HeaderType contains information about the generation of this QIF
        document.
      </xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="Application"
        type="ApplicationType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Application element is the information about the
            software application wherein the QIF document was most recently
            edited.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="Author"
        type="AuthorType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Author element is the author who
            generating this QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="ApplicationSource"
        type="ApplicationType"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional ApplicationSource element is the information about
            the software application wherein the QIF document was created.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="Description"
        type="xs:string"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Description element is a description of this QIF
            document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="Scope"
        type="xs:string"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Scope element defines the scope of this QIF
            document. Examples include: "Results","Plan", "Plan+Results",
            "MBD", "MBD+Plan+Results+Statistics", "Plan+External Product
            Definition". The scope of a QIF document can be determined from
            the optional elements that are present. This element allows for
            a concise, human-readable summary of the scope to appear near
            the beginning of a QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
  </xs:complexType>

  <xs:element name="Header"
    type="QIFDocumentHeaderType">
    <xs:annotation>
      <xs:documentation>
        The Header contains information about the creation of the
        file containing the CAD model and global parameters of the model.
      </xs:documentation>
    </xs:annotation>
  </xs:element>

  <xs:complexType name="ExternalQIFReferencesType">
    <xs:annotation>
      <xs:documentation>
        The ExternalQIFReferencesType contains information about QIF
        documents referenced by this QIF document using the external id
        referencing mechanism in the QIFReferenceType.
      </xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="ExternalQIFDocument"
        type="ExternalQIFDocumentReferenceType"
        maxOccurs="unbounded">
        <xs:annotation>
          <xs:documentation>
            Each ExternalQIFDocument element contains information about an 
            external QIF document referenced by this QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="n"
      type="NaturalType"
      use="required">
      <xs:annotation>
        <xs:documentation>
          The required n attribute is the number of external QIF documents
          in the list.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>

  <xs:complexType name="ExternalQIFDocumentReferenceType">
    <xs:annotation>
      <xs:documentation>
        The ExternalQIFDocumentReferencesType contains information about a
        single external QIF document and assigns a QIF id used for internal
        referencing.
      </xs:documentation>
    </xs:annotation>
    <xs:sequence>
      <xs:element name="QPId"
        type="QPIdReferenceType">
        <xs:annotation>
          <xs:documentation>
            The QPId element is the QPId of the external QIF document
            referenced by this QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="URI"
        type="xs:anyURI"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional URI element is a Uniform Resource Identifier for
            the external QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="Description"
        type="xs:string"
        minOccurs="0">
        <xs:annotation>
          <xs:documentation>
            The optional Description element is a description of the
            external QIF document.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute name="id"
      type="QIFIdType"
      use="required">
      <xs:annotation>
        <xs:documentation>
          The id attribute is the QIF id of the external document reference,
          used for internal referencing.
        </xs:documentation>
      </xs:annotation>
    </xs:attribute>
  </xs:complexType>

</xs:schema>
