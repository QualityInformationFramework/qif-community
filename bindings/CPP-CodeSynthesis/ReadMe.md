# C++ Source Code Binding Generator for QIF 3.0 - CodeSynthesis

## Getting Started

Download Visual Studio 2022 (Community Edition is fine).

Clone the `qif-community` repository. These instructions assume that the repository was cloned at `<root-directory>`, as pictured in the directory structure below.  

Download 4 archives from the Code Synthesis XSD site. As of the time of this writing, the current version is 4.2.0. Code Synthesis XSD can be downloaded from this page: https://codesynthesis.com/products/xsd/download.xhtml. 

The 4.2.0 release is here: https://codesynthesis.com/download/xsd/4.2/windows/windows10/x86_64/. Download all 4 ZIP archives from that location, and then deploy the contents of these archives into a directory structure like below: 

```
<root-directory>
â”œâ”€â”€ qif-community
â”‚   â”œâ”€â”€ bindings\                 -- Bindings, including the Code Synthesis C++ bindings
â”‚   â””â”€â”€ <etc.>
â””â”€â”€ xsd
    â”œâ”€â”€ bin\
    â”‚   â”œâ”€â”€ debug\
    â”‚   â”‚   â””â”€â”€ xerces-c-3.2.dll  -- Xerces-C++ DLL, Debug
    â”‚   â”œâ”€â”€ release\
    â”‚   â”‚   â””â”€â”€ xerces-c-3.2.dll  -- Xerces-C++ DLL, Release
    â”‚   â””â”€â”€ xsd.exe               -- XSD compiler (Only needed if generating source code from schemas)
    â”œâ”€â”€ include\
    â”‚   â”œâ”€â”€ xercesc\              -- Xerces-C++ headers
    â”‚   â””â”€â”€ xsd\                  -- XSD runtime headers
    â””â”€â”€ lib\
        â”œâ”€â”€ xerces-c.dll.lib      -- Xerces-C++ import library
        â””â”€â”€ xerces-c.lib          -- Xerces-C++ static library
```

> [!IMPORTANT]  
> ðŸ’¡
> If you create a different directory structure, you will need to update some of the Executable Directories, Additional Include Directories, and Linker Addition Dependencies in the Visual Studio projects. Additionally, you will need to update `PostBuildStep.cmd` to reflect the different file locations. 

Once these directories are set up, you are ready to build the QIFlibrary and the demo application. 

## Building QIF_30 Library

There are two ways to build the QIF_30 DLL: 

1. Build from source code in this project which has already been generated by CodeSynthesis XSD (default)
2. Auto-generate the code yourself, using CodeSynthesis XSD, and compile. 

Both of these methods are addressed below: 

### Building the QIF_30 DLL from existing source code

The source code is already generated and ready to compile. All that needs to be done is: 

1. Open QIF_30.sln
2. Select the Debug or Release configuration
3. Build 

Keep in mind that if you use this approach, you must respect the terms of the Code Synthesis XSD license, found here: https://www.codesynthesis.com/products/xsd/license.xhtml. 

### Using Code Synthesis XSD to generate the source code, and then compiling QIF_30

First, we need to activate the directory which is already setup for CodeSynthesis XSD: 

1. Rename the `qif-community\bindings\CPP-CodeSynthesis\QIF_30` folder to something like `QIF_30.bck`
2. Rename the `qif-community\bindings\CPP-CodeSynthesis\QIF_30.CodeSynthesis` folder to `QIF_30`
3. [Download the QIF schemas](https://qifstandards.org/download/) and place the Library XSD files into `qif-community\bindings\CPP-CodeSynthesis\QIF_30\QIFLibrary\` and the Application schemas *except for QIFDocument* into `qif-community\bindings\CPP-CodeSynthesis\QIF_30.CodeSynthesis\QIFLibrary\`. 
4. Build the solution. (The first step of building the solution will be for XSD.exe to auto-generate the source code.)

## Building the sample QIF_CPlusPlus application

The QIF_CPlusPlus application is an MFC-based GUI application that demonstrates how the C++ QIF bindings can be used. To build this application:

1. Open QIF_CPlusPlus.sln
2. Select the Debug or Release configuration
3. Build 

